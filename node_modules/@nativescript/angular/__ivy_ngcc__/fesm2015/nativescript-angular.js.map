{"version":3,"file":"nativescript-angular.js","sources":["../../trace.ts","../../dom-adapter.ts","../polyfills/console.ts","../../platform-providers.ts","../../app-host-view.ts","../../platform-common.ts","../../platform.ts","../file-system/ns-file-system.ts","../../resource-loader.ts","../../lang-facade.ts","../../frame.service.ts","../router/ns-location-utils.ts","../router/ns-location-strategy.ts","../common/detached-loader.ts","../common/utils.ts","../directives/dialogs.ts","../../element-registry.ts","../directives/templated-items-comp.ts","../directives/list-view-comp.ts","../directives/tab-view.ts","../directives/action-bar.ts","../directives/platform-filters.ts","../directives/index.ts","../../common.ts","../../view-util.ts","../../renderer.ts","../../renderer-emulated.ts","../../renderer-factory.ts","../../nativescript.module.ts","../animations/utils.ts","../animations/animation-player.ts","../animations/animation-driver.ts","../animations/animations.module.ts","../http-client/http-utils.ts","../http-client/ns-http-backend.ts","../http-client/http-client.module.ts","../esm2015/forms/value-accessors/base-value-accessor.ts","../esm2015/forms/value-accessors/text-value-accessor.ts","../esm2015/forms/value-accessors/checked-value-accessor.ts","../esm2015/forms/value-accessors/date-value-accessor.ts","../esm2015/forms/value-accessors/time-value-accessor.ts","../esm2015/forms/value-accessors/number-value-accessor.ts","../esm2015/forms/value-accessors/selectedIndex-value-accessor.ts","../forms/forms.module.ts","../router/page-router-outlet-utils.ts","../router/ns-route-reuse-strategy.ts","../router/router-extensions.ts","../router/ns-router-link.ts","../esm2015/router/private-imports/router-url-tree.ts","../router/ns-router-link-active.ts","../router/page-router-outlet.ts","../router/ns-platform-location.ts","../router/ns-empty-outlet.component.ts","../router/ns-module-factory-loader.ts","../router/router.module.ts","../../index.ts","../../nativescript-angular.ts"],"names":["isListLikeIterable","NullViewportScroller","AnimationEngine","AnimationStyleNormalizer","AnimationRendererFactory","WebAnimationsStyleNormalizer","BrowserAnimationBuilder"],"mappings":"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","sourcesContent":["import { Trace } from '@nativescript/core';\n\nexport namespace NativeScriptDebug {\n\texport const animationsTraceCategory = 'ns-animations';\n\texport const rendererTraceCategory = 'ns-renderer';\n\texport const viewUtilCategory = 'ns-view-util';\n\texport const routerTraceCategory = 'ns-router';\n\texport const routeReuseStrategyTraceCategory = 'ns-route-reuse-strategy';\n\texport const listViewTraceCategory = 'ns-list-view';\n\texport const bootstrapCategory = 'bootstrap';\n\t// TODO: migrate all usage to this - avoids extraneous method executions\n\texport const enabled = Trace.isEnabled();\n\n\texport function isLogEnabled() {\n\t\treturn Trace.isEnabled();\n\t}\n\n\texport function animationsLog(message: string): void {\n\t\tTrace.write(message, animationsTraceCategory);\n\t}\n\n\texport function rendererLog(msg): void {\n\t\tTrace.write(msg, rendererTraceCategory);\n\t}\n\n\texport function rendererError(message: string): void {\n\t\tTrace.write(message, rendererTraceCategory, Trace.messageType.error);\n\t}\n\n\texport function viewUtilLog(msg): void {\n\t\tTrace.write(msg, viewUtilCategory);\n\t}\n\n\texport function routerLog(message: string): void {\n\t\tTrace.write(message, routerTraceCategory);\n\t}\n\n\texport function routerError(message: string): void {\n\t\tTrace.write(message, routerTraceCategory, Trace.messageType.error);\n\t}\n\n\texport function routeReuseStrategyLog(message: string): void {\n\t\tTrace.write(message, routeReuseStrategyTraceCategory);\n\t}\n\n\texport function styleError(message: string): void {\n\t\tTrace.write(message, Trace.categories.Style, Trace.messageType.error);\n\t}\n\n\texport function listViewLog(message: string): void {\n\t\tTrace.write(message, listViewTraceCategory);\n\t}\n\n\texport function listViewError(message: string): void {\n\t\tTrace.write(message, listViewTraceCategory, Trace.messageType.error);\n\t}\n\n\texport function bootstrapLog(message: string): void {\n\t\tTrace.write(message, bootstrapCategory);\n\t}\n\n\texport function bootstrapLogError(message: string): void {\n\t\tTrace.write(message, bootstrapCategory, Trace.messageType.error);\n\t}\n}\n","/* tslint:disable */\nimport { Type } from '@angular/core';\nimport { DomAdapter, setRootDomAdapter } from '@angular/common';\nimport { NativeScriptDebug } from './trace';\n\nexport class NativeScriptDomAdapter implements DomAdapter {\n\tstatic makeCurrent() {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog('Setting root DOM adapter...');\n\t\t}\n\n\t\tsetRootDomAdapter(new NativeScriptDomAdapter());\n\t}\n\n\thasProperty(_element: any, _name: string) {\n\t\t// TODO: actually check if the property exists.\n\t\treturn true;\n\t}\n\n\tlog(arg: any): void {\n\t\tconsole.log(arg);\n\t}\n\n\tlogError(arg: any): void {\n\t\tconsole.log(arg);\n\t}\n\n\tlogGroup(arg: any): void {\n\t\tconsole.log(arg);\n\t}\n\n\tlogGroupEnd(): void {}\n\n\tget attrToPropMap(): { [key: string]: string } {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tset attrToPropMap(_value: { [key: string]: string }) {\n\t\tthrow new Error('Not implemented!');\n\t}\n\n\tpublic resourceLoaderType: Type<any> = null;\n\tsetProperty(_el: Element, _name: string, _value: any): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetProperty(_el: Element, _name: string): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tinvoke(_el: Element, _methodName: string, _args: any[]): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\n\tcontains(_nodeA: any, _nodeB: any): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tparse(_templateHtml: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tquery(_selector: string): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tquerySelector(_el: any /** TODO #9100 */, _selector: string): HTMLElement {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tquerySelectorAll(_el: any /** TODO #9100 */, _selector: string): any[] {\n\t\tthrow new Error('Not implemented!');\n\t}\n\ton(_el: any /** TODO #9100 */, _evt: any /** TODO #9100 */, _listener: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tonAndCancel(_el: any /** TODO #9100 */, _evt: any /** TODO #9100 */, _listener: any /** TODO #9100 */): Function {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tdispatchEvent(_el: any /** TODO #9100 */, _evt: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcreateMouseEvent(_eventType: any /** TODO #9100 */): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcreateEvent(_eventType: string): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tpreventDefault(_evt: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tisPrevented(_evt: any /** TODO #9100 */): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetInnerHTML(_el: any /** TODO #9100 */): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\n\tgetTemplateContent(_el: any /** TODO #9100 */): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetOuterHTML(_el: any /** TODO #9100 */): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tnodeName(_node: any /** TODO #9100 */): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tnodeValue(_node: any /** TODO #9100 */): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\ttype(_node: any /** TODO #9100 */): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcontent(_node: any /** TODO #9100 */): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tfirstChild(_el: any /** TODO #9100 */): Node {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tnextSibling(_el: any /** TODO #9100 */): Node {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tparentElement(_el: any /** TODO #9100 */): Node {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tchildNodes(_el: any /** TODO #9100 */): Node[] {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tchildNodesAsList(_el: any /** TODO #9100 */): Node[] {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tclearNodes(_el: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tappendChild(_el: any /** TODO #9100 */, _node: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tremoveChild(_el: any /** TODO #9100 */, _node: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\treplaceChild(_el: any /** TODO #9100 */, _newNode: any /** TODO #9100 */, _oldNode: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tremove(_el: any /** TODO #9100 */): Node {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tinsertBefore(_el: any /** TODO #9100 */, _node: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tinsertAllBefore(_el: any /** TODO #9100 */, _nodes: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tinsertAfter(_el: any /** TODO #9100 */, _node: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetInnerHTML(_el: any /** TODO #9100 */, _value: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetText(_el: any /** TODO #9100 */): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetText(_el: any /** TODO #9100 */, _value: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetValue(_el: any /** TODO #9100 */): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetValue(_el: any /** TODO #9100 */, _value: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetChecked(_el: any /** TODO #9100 */): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetChecked(_el: any /** TODO #9100 */, _value: boolean): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcreateComment(_text: string): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcreateTemplate(_html: any /** TODO #9100 */): HTMLElement {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcreateElement(_tagName: any /** TODO #9100 */, _doc?: any /** TODO #9100 */): HTMLElement {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcreateElementNS(_ns: string, _tagName: string, _doc?: any /** TODO #9100 */): Element {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcreateTextNode(_text: string, _doc?: any /** TODO #9100 */): Text {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcreateScriptTag(_attrName: string, _attrValue: string, _doc?: any /** TODO #9100 */): HTMLElement {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcreateStyleElement(_css: string, _doc?: any /** TODO #9100 */): HTMLStyleElement {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcreateShadowRoot(_el: any /** TODO #9100 */): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetShadowRoot(_el: any /** TODO #9100 */): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetHost(_el: any /** TODO #9100 */): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetDistributedNodes(_el: any /** TODO #9100 */): Node[] {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tclone /*<T extends Node>*/(_node: Node /*T*/): Node /*T*/ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetElementsByClassName(_element: any /** TODO #9100 */, _name: string): HTMLElement[] {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetElementsByTagName(_element: any /** TODO #9100 */, _name: string): HTMLElement[] {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tclassList(_element: any /** TODO #9100 */): any[] {\n\t\tthrow new Error('Not implemented!');\n\t}\n\taddClass(_element: any /** TODO #9100 */, _className: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tremoveClass(_element: any /** TODO #9100 */, _className: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\thasClass(_element: any /** TODO #9100 */, _className: string): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetStyle(_element: any /** TODO #9100 */, _styleName: string, _styleValue: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tremoveStyle(_element: any /** TODO #9100 */, _styleName: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetStyle(_element: any /** TODO #9100 */, _styleName: string): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\thasStyle(_element: any /** TODO #9100 */, _styleName: string, _styleValue?: string): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\ttagName(_element: any /** TODO #9100 */): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tattributeMap(_element: any /** TODO #9100 */): Map<string, string> {\n\t\tthrow new Error('Not implemented!');\n\t}\n\thasAttribute(_element: any /** TODO #9100 */, _attribute: string): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\thasAttributeNS(_element: any /** TODO #9100 */, _ns: string, _attribute: string): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetAttribute(_element: any /** TODO #9100 */, _attribute: string): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetAttributeNS(_element: any /** TODO #9100 */, _ns: string, _attribute: string): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetAttribute(_element: any /** TODO #9100 */, _name: string, _value: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetAttributeNS(_element: any /** TODO #9100 */, _ns: string, _name: string, _value: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tremoveAttribute(_element: any /** TODO #9100 */, _attribute: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tremoveAttributeNS(_element: any /** TODO #9100 */, _ns: string, _attribute: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\ttemplateAwareRoot(_el: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcreateHtmlDocument(): HTMLDocument {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tdefaultDoc(): HTMLDocument {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetDefaultDocument(): Document {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetBoundingClientRect(_el: any /** TODO #9100 */): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetTitle(): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetTitle(_doc: Document, _newTitle: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\telementMatches(_n: any /** TODO #9100 */, _selector: string): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tisTemplateElement(_el: any): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tisTextNode(_node: any /** TODO #9100 */): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tisCommentNode(_node: any /** TODO #9100 */): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tisElementNode(_node: any /** TODO #9100 */): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\thasShadowRoot(_node: any /** TODO #9100 */): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tisShadowRoot(_node: any /** TODO #9100 */): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\timportIntoDoc /*<T extends Node>*/(_node: Node /*T*/): Node /*T*/ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tadoptNode /*<T extends Node>*/(_node: Node /*T*/): Node /*T*/ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetHref(_element: any /** TODO #9100 */): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetEventKey(_event: any /** TODO #9100 */): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tresolveAndSetHref(_element: any /** TODO #9100 */, _baseUrl: string, _href: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsupportsDOMEvents(): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsupportsNativeShadowDOM(): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetGlobalEventTarget(_doc: Document, _target: string): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetHistory(): History {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetLocation(): Location {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetBaseHref(): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tresetBaseElement(): void {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetUserAgent(): string {\n\t\treturn 'Fake user agent';\n\t}\n\tsetData(_element: any /** TODO #9100 */, _name: string, _value: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetComputedStyle(_element: any /** TODO #9100 */): any {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetData(_element: any /** TODO #9100 */, _name: string): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetGlobalVar(_name: string, _value: any): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsupportsWebAnimation(): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tperformanceNow(): number {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetAnimationPrefix(): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetTransitionEnd(): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsupportsAnimation(): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\n\tsupportsCookies(): boolean {\n\t\treturn false;\n\t}\n\tgetCookie(_name: string): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetCookie(_name: string, _value: string): any /** TODO #9100 */ {\n\t\tthrow new Error('Not implemented!');\n\t}\n}\n\nNativeScriptDomAdapter.makeCurrent();\n","if (!console.group) {\n\tconsole.group = () => {};\n}\n\nif (!console.groupEnd) {\n\tconsole.groupEnd = () => {};\n}\n","import { InjectionToken, Injectable, OnDestroy } from '@angular/core';\n\nimport { Frame, View, Page, IDevice, Device } from '@nativescript/core';\n\nexport const APP_ROOT_VIEW = new InjectionToken<View>('NativeScriptAppRootView');\nexport const DeviceToken = new InjectionToken<IDevice>('NativeScriptPlatformDeviceToken');\n\nexport type PageFactory = (options: PageFactoryOptions) => Page;\nexport interface PageFactoryOptions {\n\tisBootstrap?: boolean;\n\tisLivesync?: boolean;\n\tisModal?: boolean;\n\tisNavigation?: boolean;\n\tcomponentType?: any;\n}\nexport const PAGE_FACTORY = new InjectionToken<PageFactory>('NativeScriptPageFactory');\nexport const defaultPageFactory: PageFactory = function (_opts: PageFactoryOptions) {\n\treturn new Page();\n};\nexport const defaultPageFactoryProvider = { provide: PAGE_FACTORY, useValue: defaultPageFactory };\n\nlet _rootPageRef: WeakRef<Page>;\n\nexport function setRootPage(page: Page): void {\n\t_rootPageRef = new WeakRef(page);\n}\n\nexport function getRootPage(): Page {\n\treturn _rootPageRef && _rootPageRef.get();\n}\n\n// Use an exported function to make the AoT compiler happy.\nexport function getDefaultPage(): Page {\n\tconst rootPage = getRootPage();\n\tif (rootPage instanceof Page) {\n\t\treturn rootPage;\n\t}\n\t// if (rootPage) {\n\t// \treturn rootPage;\n\t// }\n\n\tconst frame = Frame.topmost();\n\tif (frame && frame.currentPage) {\n\t\treturn frame.currentPage;\n\t}\n\n\treturn null;\n}\n\nexport const defaultPageProvider = { provide: Page, useFactory: getDefaultPage };\n\n// Use an exported function to make the AoT compiler happy.\nexport function getDefaultFrame(): Frame {\n\treturn Frame.topmost();\n}\n\nexport const defaultFrameProvider = { provide: Frame, useFactory: getDefaultFrame };\n\n// Use an exported function to make the AoT compiler happy.\nexport function getDefaultDevice(): IDevice {\n\treturn Device;\n}\n\nexport const defaultDeviceProvider = { provide: DeviceToken, useFactory: getDefaultDevice };\n","import { ContentView, View, ProxyViewContainer, GridLayout, Color } from '@nativescript/core';\n\nexport class AppHostView extends ContentView {\n\tprivate _ngAppRoot: View;\n\tprivate _content: View;\n\n\tconstructor(backgroundColor: Color) {\n\t\tsuper();\n\t\tthis.backgroundColor = backgroundColor;\n\t}\n\n\tget ngAppRoot(): View {\n\t\treturn this._ngAppRoot;\n\t}\n\n\tset ngAppRoot(value: View) {\n\t\tthis._ngAppRoot = value;\n\t}\n\n  // @ts-ignore\n\tget content(): View {\n\t\treturn this._content;\n\t}\n\n\tset content(value: View) {\n\t\tif (this._content) {\n\t\t\tthis._content.parentNode = undefined;\n\t\t}\n\n\t\tthis._content = value;\n\n\t\tif (value) {\n\t\t\tthis._content.parentNode = <any>this;\n\t\t}\n\n\t\tthis.ngAppRoot = value;\n\n\t\tif (this._content instanceof ProxyViewContainer) {\n\t\t\tconst grid = new GridLayout();\n\t\t\tgrid.backgroundColor = this.backgroundColor;\n\t\t\tgrid.addChild(this._content);\n\t\t\tthis.ngAppRoot = grid;\n\t\t}\n\t}\n}\n\nexport class AppHostAsyncView extends GridLayout {\n\tconstructor(backgroundColor: Color) {\n\t\tsuper();\n\t\tthis.backgroundColor = backgroundColor;\n\t}\n\n\tget ngAppRoot(): View {\n\t\treturn this;\n\t}\n\n\tset ngAppRoot(value: View) {\n\t\t// ignored\n\t}\n}\n","import { Application, TextView, Color, View, Frame, GridLayout, LaunchEventData, ApplicationEventData, profile, profilingUptime, Page, LayoutBase } from '@nativescript/core';\n// import './dom-adapter';\n// import 'nativescript-intl';\n\nimport { Type, Injector, CompilerOptions, PlatformRef, NgModuleFactory, NgModuleRef, EventEmitter, Sanitizer, InjectionToken, StaticProvider } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nimport { NativeScriptDebug } from './trace';\nimport { defaultPageFactoryProvider, setRootPage, PageFactory, PAGE_FACTORY, getRootPage } from './platform-providers';\nimport { AppHostView, AppHostAsyncView } from './app-host-view';\n\nexport const onBeforeLivesync = new EventEmitter<NgModuleRef<any>>();\nexport const onAfterLivesync = new EventEmitter<{\n\tmoduleRef?: NgModuleRef<any>;\n\terror?: Error;\n}>();\nlet lastBootstrappedModule: WeakRef<NgModuleRef<any>>;\ntype BootstrapperAction = () => Promise<NgModuleRef<any>>;\n\n// Work around a TS bug requiring an import of OpaqueToken without using it\n// if ((<any>global).___TS_UNUSED) {\n//     (() => {\n//         return InjectionToken;\n//     })();\n// }\n\n// tslint:disable:max-line-length\n/**\n * Options to be passed when HMR is enabled\n */\nexport interface HmrOptions {\n\t/**\n\t * A factory function that returns either Module type or NgModuleFactory type.\n\t * This needs to be a factory function as the types will change when modules are replaced.\n\t */\n\tmoduleTypeFactory?: () => Type<any> | NgModuleFactory<any>;\n\n\t/**\n\t * A livesync callback that will be called instead of the original livesync.\n\t * It gives the HMR a hook to apply the module replacement.\n\t * @param bootstrapPlatform - A bootstrap callback to be called after HMR is done. It will bootstrap a new angular app within the exisiting platform, using the moduleTypeFactory to get the Module or NgModuleFactory to be used.\n\t */\n\tlivesyncCallback: (bootstrapPlatform: () => void) => void;\n}\n// tslint:enable:max-line-length\n\nexport interface AppLaunchView extends LayoutBase {\n\t// called when the animation is to begin\n\tstartAnimation?: () => void;\n\t// called when bootstrap is complete and cleanup can begin\n\t// should resolve when animation is completely finished\n\tcleanup?: () => Promise<any>;\n}\n\nexport interface AppOptions {\n\tbootInExistingPage?: boolean;\n\tcssFile?: string;\n\tstartPageActionBarHidden?: boolean;\n\thmrOptions?: HmrOptions;\n\t/**\n\t * Background color of the root view\n\t */\n\tbackgroundColor?: string;\n\t/**\n\t * Use animated launch view (async by default)\n\t */\n\tlaunchView?: AppLaunchView;\n\t/**\n\t * When using Async APP_INITIALIZER, set this to `true`.\n\t * (Not needed when using launchView)\n\t */\n\tasync?: boolean;\n}\n\nexport type PlatformFactory = (extraProviders?: StaticProvider[]) => PlatformRef;\n\nexport class NativeScriptSanitizer extends Sanitizer {\n\tsanitize(_context: any, value: string): string {\n\t\treturn value;\n\t}\n}\n\nexport class NativeScriptDocument {\n\t// Required by the AnimationDriver\n\tpublic body: any = {\n\t\tisOverride: true,\n\t};\n\n\tcreateElement(tag: string) {\n\t\tthrow new Error('NativeScriptDocument is not DOM Document. There is no createElement() method.');\n\t}\n}\n\nexport const COMMON_PROVIDERS = [defaultPageFactoryProvider, { provide: Sanitizer, useClass: NativeScriptSanitizer, deps: [] }, { provide: DOCUMENT, useClass: NativeScriptDocument, deps: [] }];\n\nexport class NativeScriptPlatformRef extends PlatformRef {\n\tprivate _bootstrapper: BootstrapperAction;\n\n\tconstructor(private platform: PlatformRef, private appOptions: AppOptions = {}) {\n\t\tsuper();\n\t}\n\n\t@profile\n\tbootstrapModuleFactory<M>(moduleFactory: NgModuleFactory<M>): Promise<NgModuleRef<M>> {\n\t\tthis._bootstrapper = () => {\n\t\t\tlet bootstrapFactory = moduleFactory;\n\t\t\tif (this.appOptions.hmrOptions) {\n\t\t\t\tbootstrapFactory = <NgModuleFactory<M>>this.appOptions.hmrOptions.moduleTypeFactory();\n\t\t\t}\n\n\t\t\treturn this.platform.bootstrapModuleFactory(bootstrapFactory);\n\t\t};\n\n\t\tthis.bootstrapApp();\n\n\t\treturn null; // Make the compiler happy\n\t}\n\n\t@profile\n\tbootstrapModule<M>(moduleType: Type<M>, compilerOptions: CompilerOptions | CompilerOptions[] = []): Promise<NgModuleRef<M>> {\n\t\tthis._bootstrapper = () => {\n\t\t\tlet bootstrapType = moduleType;\n\t\t\tif (this.appOptions.hmrOptions) {\n\t\t\t\tbootstrapType = <Type<M>>this.appOptions.hmrOptions.moduleTypeFactory();\n\t\t\t}\n\n\t\t\treturn this.platform.bootstrapModule(bootstrapType, compilerOptions);\n\t\t};\n\t\tthis.bootstrapApp();\n\n\t\treturn null; // Make the compiler happy\n\t}\n\n\t@profile\n\tprivate bootstrapApp() {\n\t\t(<any>global).__onLiveSyncCore = () => {\n\t\t\tif (this.appOptions.hmrOptions) {\n\t\t\t\tconst rootView = Application.getRootView();\n\t\t\t\tif (rootView) {\n\t\t\t\t\trootView._closeAllModalViewsInternal();\n\t\t\t\t}\n\n\t\t\t\tthis.appOptions.hmrOptions.livesyncCallback(() => this._livesync());\n\t\t\t} else {\n\t\t\t\tthis._livesync();\n\t\t\t}\n\t\t};\n\n\t\tif (this.appOptions && typeof this.appOptions.cssFile === 'string') {\n\t\t\tApplication.setCssFileName(this.appOptions.cssFile);\n\t\t}\n\n\t\tthis.bootstrapNativeScriptApp();\n\t}\n\n\tonDestroy(callback: () => void): void {\n\t\tthis.platform.onDestroy(callback);\n\t}\n\n\tget injector(): Injector {\n\t\treturn this.platform.injector;\n\t}\n\n\tdestroy(): void {\n\t\tthis.platform.destroy();\n\t}\n\n\tget destroyed(): boolean {\n\t\treturn this.platform.destroyed;\n\t}\n\n\t@profile\n\tprivate bootstrapNativeScriptApp() {\n\t\tlet rootContent: View;\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.bootstrapLog('NativeScriptPlatform bootstrap started.');\n\t\t}\n\t\tconst launchCallback = profile('@nativescript/angular/platform-common.launchCallback', (args: LaunchEventData) => {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.bootstrapLog('Application launch event fired');\n\t\t\t}\n\n\t\t\t// Create a temp page for root of the renderer\n\t\t\tlet tempAppHostView: AppHostView;\n\t\t\tlet tempAppHostAsyncView: AppHostAsyncView;\n\t\t\tif (this.appOptions && (this.appOptions.async || this.appOptions.launchView)) {\n\t\t\t\ttempAppHostAsyncView = new AppHostAsyncView(new Color(this.appOptions && this.appOptions.backgroundColor ? this.appOptions.backgroundColor : '#fff'));\n\t\t\t\tif (this.appOptions.launchView) {\n\t\t\t\t\tthis.appOptions.launchView.style.zIndex = 1000;\n\t\t\t\t\ttempAppHostAsyncView.addChild(this.appOptions.launchView);\n\t\t\t\t}\n\t\t\t\trootContent = tempAppHostAsyncView.ngAppRoot;\n\t\t\t\tsetRootPage(<any>tempAppHostAsyncView);\n\t\t\t} else {\n\t\t\t\ttempAppHostView = new AppHostView(new Color(this.appOptions && this.appOptions.backgroundColor ? this.appOptions.backgroundColor : '#fff'));\n\t\t\t\tsetRootPage(<any>tempAppHostView);\n\t\t\t}\n\n\t\t\tlet bootstrapPromiseCompleted = false;\n\t\t\tconst bootstrap = () => {\n\t\t\t\tthis._bootstrapper().then(\n\t\t\t\t\t(moduleRef) => {\n\t\t\t\t\t\tbootstrapPromiseCompleted = true;\n\t\t\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\t\t\tNativeScriptDebug.bootstrapLog(`Angular bootstrap bootstrap done. uptime: ${profilingUptime()}`);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.appOptions.launchView && this.appOptions.launchView.cleanup) {\n\t\t\t\t\t\t\tthis.appOptions.launchView.cleanup().then(() => {\n\t\t\t\t\t\t\t\t// cleanup any custom launch views\n\t\t\t\t\t\t\t\ttempAppHostAsyncView.removeChild(this.appOptions.launchView);\n\t\t\t\t\t\t\t\tthis.appOptions.launchView = null;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (tempAppHostView) {\n\t\t\t\t\t\t\trootContent = tempAppHostView.content;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlastBootstrappedModule = new WeakRef(moduleRef);\n\t\t\t\t\t},\n\t\t\t\t\t(err) => {\n\t\t\t\t\t\tbootstrapPromiseCompleted = true;\n\t\t\t\t\t\tconst errorMessage = err.message + '\\n\\n' + err.stack;\n\t\t\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\t\t\tNativeScriptDebug.bootstrapLogError('ERROR BOOTSTRAPPING ANGULAR');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\t\t\tNativeScriptDebug.bootstrapLogError(errorMessage);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trootContent = this.createErrorUI(errorMessage);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\tNativeScriptDebug.bootstrapLog('bootstrapAction called, draining micro tasks queue. Root: ' + rootContent);\n\t\t\t\t}\n\t\t\t\t(<any>global).Zone.drainMicroTaskQueue();\n\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\tNativeScriptDebug.bootstrapLog('bootstrapAction called, draining micro tasks queue finished! Root: ' + rootContent);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (this.appOptions && this.appOptions.launchView && this.appOptions.launchView.startAnimation) {\n\t\t\t\t// start animations on next tick (after initial boot)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t// ensure launch animation is executed after launchView added to view stack\n\t\t\t\t\tthis.appOptions.launchView.startAnimation();\n\t\t\t\t});\n\t\t\t}\n\t\t\tbootstrap();\n\t\t\t// if (!bootstrapPromiseCompleted) {\n\t\t\t// \tconst errorMessage = \"Bootstrap promise didn't resolve\";\n\t\t\t// \tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t// \t\tNativeScriptDebug.bootstrapLogError(errorMessage);\n\t\t\t// \t}\n\t\t\t// \trootContent = this.createErrorUI(errorMessage);\n\t\t\t// }\n\t\t\targs.root = rootContent;\n\t\t});\n\t\tconst exitCallback = profile('@nativescript/angular/platform-common.exitCallback', (args: ApplicationEventData) => {\n\t\t\tconst androidActivity = args.android;\n\t\t\tif (androidActivity && !androidActivity.isFinishing()) {\n\t\t\t\t// Exit event was triggered as a part of a restart of the app.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst lastModuleRef = lastBootstrappedModule ? lastBootstrappedModule.get() : null;\n\t\t\tif (lastModuleRef) {\n\t\t\t\t// Make sure the module is only destroyed once\n\t\t\t\tlastBootstrappedModule = null;\n\n\t\t\t\tlastModuleRef.destroy();\n\t\t\t}\n\n\t\t\trootContent = null;\n\t\t});\n\n\t\tApplication.on(Application.launchEvent, launchCallback);\n\t\tApplication.on(Application.exitEvent, exitCallback);\n\n\t\tApplication.run();\n\t}\n\n\t@profile\n\tpublic _livesync() {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.bootstrapLog('Angular livesync started.');\n\t\t}\n\n\t\tconst lastModuleRef = lastBootstrappedModule ? lastBootstrappedModule.get() : null;\n\t\tonBeforeLivesync.next(lastModuleRef);\n\t\tif (lastModuleRef) {\n\t\t\tlastModuleRef.destroy();\n\t\t}\n\n\t\tthis._bootstrapper().then(\n\t\t\t(moduleRef) => {\n\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\tNativeScriptDebug.bootstrapLog('Angular livesync done.');\n\t\t\t\t}\n\t\t\t\tonAfterLivesync.next({ moduleRef });\n\n\t\t\t\tlastBootstrappedModule = new WeakRef(moduleRef);\n\t\t\t\tApplication.resetRootView({\n\t\t\t\t\tcreate: () => (getRootPage() instanceof AppHostView ? ((<any>getRootPage()) as AppHostView).ngAppRoot : getRootPage()),\n\t\t\t\t});\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\tNativeScriptDebug.bootstrapLogError('ERROR LIVESYNC BOOTSTRAPPING ANGULAR');\n\t\t\t\t}\n\t\t\t\tconst errorMessage = error.message + '\\n\\n' + error.stack;\n\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\tNativeScriptDebug.bootstrapLogError(errorMessage);\n\t\t\t\t}\n\n\t\t\t\tApplication.resetRootView({\n\t\t\t\t\tcreate: () => this.createErrorUI(errorMessage),\n\t\t\t\t});\n\t\t\t\tonAfterLivesync.next({ error });\n\t\t\t}\n\t\t);\n\t}\n\n\tprivate createErrorUI(message: string): View {\n\t\tconst errorTextBox = new TextView();\n\t\terrorTextBox.text = message;\n\t\terrorTextBox.color = new Color('red');\n\t\treturn errorTextBox;\n\t}\n\n\tprivate createFrameAndPage(isLivesync: boolean) {\n\t\tconst frame = new Frame();\n\t\tconst pageFactory: PageFactory = this.platform.injector.get(PAGE_FACTORY);\n\t\tconst page = pageFactory({ isBootstrap: true, isLivesync });\n\n\t\tframe.navigate({\n\t\t\tcreate: () => {\n\t\t\t\treturn page;\n\t\t\t},\n\t\t});\n\t\treturn { page, frame };\n\t}\n}\n","import { PlatformRef, platformCore, createPlatformFactory } from '@angular/core';\n\nimport { NativeScriptPlatformRef, AppOptions, PlatformFactory, COMMON_PROVIDERS } from './platform-common';\n\n// \"Static\" platform\nconst _platformNativeScript: PlatformFactory = createPlatformFactory(platformCore, 'nativeScript', [...COMMON_PROVIDERS]);\n\nexport function platformNativeScriptDynamic(options?: AppOptions, extraProviders?: any[]): PlatformRef {\n\t// Return raw platform to advanced users only if explicitly requested\n\tif (options && options.bootInExistingPage === true) {\n\t\treturn _platformNativeScript(extraProviders);\n\t} else {\n\t\treturn new NativeScriptPlatformRef(_platformNativeScript(extraProviders), options);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { knownFolders, Folder, File } from '@nativescript/core';\n\n// Allows greater flexibility with `file-system` and Angular\n// Also provides a way for `file-system` to be mocked for testing\n\n@Injectable()\nexport class NSFileSystem {\n\tpublic currentApp(): Folder {\n\t\treturn knownFolders.currentApp();\n\t}\n\n\tpublic fileFromPath(path: string): File {\n\t\treturn File.fromPath(path);\n\t}\n\n\tpublic fileExists(path: string): boolean {\n\t\treturn File.exists(path);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { ResourceLoader } from '@angular/compiler';\nimport { path } from '@nativescript/core';\n\nimport { NSFileSystem } from './file-system/ns-file-system';\n\nconst sourceExtensionsMap = {\n\t'.scss': '.css',\n\t'.sass': '.css',\n\t'.less': '.css',\n};\n\n@Injectable()\nexport class FileSystemResourceLoader extends ResourceLoader {\n\tconstructor(private fs: NSFileSystem) {\n\t\tsuper();\n\t}\n\n\tget(url: string): string {\n\t\tconst resolvedPath = this.resolve(url);\n\n\t\tconst templateFile = this.fs.fileFromPath(resolvedPath);\n\n\t\treturn templateFile.readTextSync();\n\t}\n\n\tresolve(url: string): string {\n\t\tconst normalizedSourceUrl = this.resolveRelativeUrls(url);\n\t\tconst normalizedCompiledFileUrl = normalizedSourceUrl.replace(/\\.\\w+$/, (ext) => sourceExtensionsMap[ext] || ext);\n\t\tif (normalizedCompiledFileUrl !== normalizedSourceUrl && this.fs.fileExists(normalizedCompiledFileUrl)) {\n\t\t\treturn normalizedCompiledFileUrl;\n\t\t}\n\t\tif (this.fs.fileExists(normalizedSourceUrl)) {\n\t\t\treturn normalizedSourceUrl;\n\t\t}\n\n\t\tif (normalizedCompiledFileUrl === normalizedSourceUrl) {\n\t\t\tthrow new Error(`Could not resolve ${url}. Looked for: ${normalizedSourceUrl}.`);\n\t\t} else {\n\t\t\tthrow new Error(`Could not resolve ${url}.` + `Looked for: ${normalizedCompiledFileUrl}, ${normalizedSourceUrl}.`);\n\t\t}\n\t}\n\n\tprivate resolveRelativeUrls(url: string): string {\n\t\t// Angular assembles absolute URLs and prefixes them with //\n\t\tif (url.indexOf('/') !== 0) {\n\t\t\t// Resolve relative URLs based on the app root.\n\t\t\treturn path.join(this.fs.currentApp().path, url);\n\t\t} else {\n\t\t\treturn url;\n\t\t}\n\t}\n}\n","export function isPresent(obj: any): boolean {\n\treturn obj !== undefined && obj !== null;\n}\n\nexport function isBlank(obj: any): boolean {\n\treturn obj === undefined || obj === null;\n}\n","import { Injectable } from '@angular/core';\nimport { Frame } from '@nativescript/core';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class FrameService {\n\t// TODO: Add any methods that are needed to handle frame/page navigation\n\tgetFrame(): Frame {\n\t\tlet topmostFrame = Frame.topmost();\n\t\treturn topmostFrame;\n\t}\n}\n","import { Frame, NavigationTransition } from '@nativescript/core';\nimport { DefaultUrlSerializer, UrlSegmentGroup, UrlTree, ActivatedRouteSnapshot, Params } from '@angular/router';\n\nexport interface LocationState {\n\tqueryParams: Params;\n\tsegmentGroup: UrlSegmentGroup;\n\tisRootSegmentGroup: boolean;\n\tisPageNavigation: boolean;\n\tframe?: Frame;\n}\n\nexport interface NavigationOptions {\n\tclearHistory?: boolean;\n\tanimated?: boolean;\n\ttransition?: NavigationTransition;\n}\n\nexport class Outlet {\n\tshowingModal: boolean;\n\tmodalNavigationDepth: number;\n\tparent: Outlet;\n\tisPageNavigationBack: boolean;\n\n\t// More than one key available when using NSEmptyOutletComponent component\n\t// in module that lazy loads children (loadChildren) and has outlet name.\n\toutletKeys: Array<string>;\n\n\t// More than one frame available when using NSEmptyOutletComponent component\n\t// in module that lazy loads children (loadChildren) and has outlet name.\n\tframes: Array<Frame> = [];\n\t// The url path to the Outlet.\n\t// E.G: the path to Outlet3 that is nested Outlet1(home)->Outlet2(nested1)->Outlet3(nested2)\n\t// will be 'home/nested1'\n\tpath: string;\n\tpathByOutlets: string;\n\tstates: Array<LocationState> = [];\n\tisNSEmptyOutlet: boolean;\n\n\t// Used in reuse-strategy by its children to determine if they should be detached too.\n\tshouldDetach: boolean = true;\n\tconstructor(outletKey: string, path: string, pathByOutlets: string, modalNavigationDepth?: number) {\n\t\tthis.outletKeys = [outletKey];\n\t\tthis.isPageNavigationBack = false;\n\t\tthis.showingModal = false;\n\t\tthis.modalNavigationDepth = modalNavigationDepth || 0;\n\t\tthis.pathByOutlets = pathByOutlets;\n\t\tthis.path = path;\n\t}\n\n\tcontainsFrame(frame: Frame): boolean {\n\t\treturn this.frames.indexOf(frame) > -1;\n\t}\n\n\tpeekState(): LocationState {\n\t\tif (this.states.length > 0) {\n\t\t\treturn this.states[this.states.length - 1];\n\t\t}\n\t\treturn null;\n\t}\n\n\tcontainsTopState(stateUrl: string): boolean {\n\t\tconst lastState = this.peekState();\n\t\treturn lastState && lastState.segmentGroup.toString() === stateUrl;\n\t}\n\n\t// Search for frame that can go back.\n\t// Nested 'primary' outlets could result in Outlet with multiple navigatable frames.\n\tgetFrameToBack(): Frame {\n\t\tlet frame = this.frames[this.frames.length - 1];\n\n\t\tif (!this.isNSEmptyOutlet) {\n\t\t\tfor (let index = this.frames.length - 1; index >= 0; index--) {\n\t\t\t\tconst currentFrame = this.frames[index];\n\t\t\t\tif (currentFrame.canGoBack()) {\n\t\t\t\t\tframe = currentFrame;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn frame;\n\t}\n}\n\nexport const defaultNavOptions: NavigationOptions = {\n\tclearHistory: false,\n\tanimated: true,\n};\n","import { Injectable } from '@angular/core';\nimport { LocationStrategy } from '@angular/common';\nimport { DefaultUrlSerializer, UrlSegmentGroup, UrlTree, ActivatedRouteSnapshot, Params } from '@angular/router';\nimport { Frame } from '@nativescript/core';\nimport { NativeScriptDebug } from '../trace';\nimport { isPresent } from '../lang-facade';\nimport { FrameService } from '../frame.service';\nimport { Outlet, NavigationOptions, LocationState, defaultNavOptions } from './ns-location-utils';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class NSLocationStrategy extends LocationStrategy {\n\tprivate outlets: Array<Outlet> = [];\n\tprivate currentOutlet: Outlet;\n\n\tprivate popStateCallbacks = new Array<(_: any) => any>();\n\tprivate _currentNavigationOptions: NavigationOptions;\n\tprivate currentUrlTree: UrlTree;\n\n\tpublic _modalNavigationDepth = 0;\n\n\tconstructor(private frameService: FrameService) {\n\t\tsuper();\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.constructor()');\n\t\t}\n\t}\n\n\tpath(): string {\n\t\tif (!this.currentUrlTree) {\n\t\t\treturn '/';\n\t\t}\n\n\t\tconst state = this.currentOutlet && this.currentOutlet.peekState();\n\t\tif (!state) {\n\t\t\treturn '/';\n\t\t}\n\n\t\tlet tree = this.currentUrlTree;\n\t\tlet changedOutlet = this.getSegmentGroupByOutlet(this.currentOutlet);\n\n\t\t// Handle case where the user declares a component at path \"/\".\n\t\t// The url serializer doesn't parse this url as having a primary outlet.\n\t\tif (state.isRootSegmentGroup) {\n\t\t\ttree.root = state.segmentGroup;\n\t\t} else if (changedOutlet) {\n\t\t\tthis.updateSegmentGroup(tree.root, changedOutlet, state.segmentGroup);\n\t\t}\n\n\t\tconst urlSerializer = new DefaultUrlSerializer();\n\t\ttree.queryParams = state.queryParams;\n\t\tconst url = urlSerializer.serialize(tree);\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.path(): ' + url);\n\t\t}\n\t\treturn url;\n\t}\n\n\tprepareExternalUrl(internal: string): string {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.prepareExternalUrl() internal: ' + internal);\n\t\t}\n\t\treturn internal;\n\t}\n\n\tpushState(state: any, title: string, url: string, queryParams: string): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.pushState state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);\n\t\t}\n\t\tthis.pushStateInternal(state, title, url, queryParams);\n\t}\n\n\tpushStateInternal(state: any, title: string, url: string, queryParams: string): void {\n\t\tconst urlSerializer = new DefaultUrlSerializer();\n\t\tthis.currentUrlTree = urlSerializer.parse(url);\n\t\tconst urlTreeRoot = this.currentUrlTree.root;\n\n\t\t// Handle case where the user declares a component at path \"/\".\n\t\t// The url serializer doesn't parse this url as having a primary outlet.\n\t\tif (!Object.keys(urlTreeRoot.children).length) {\n\t\t\tconst segmentGroup = this.currentUrlTree && this.currentUrlTree.root;\n\t\t\tconst outletKey = this.getOutletKey(this.getSegmentGroupFullPath(segmentGroup), 'primary');\n\t\t\tconst outlet = this.findOutlet(outletKey);\n\n\t\t\tif (outlet && this.updateStates(outlet, segmentGroup, this.currentUrlTree.queryParams)) {\n\t\t\t\tthis.currentOutlet = outlet; // If states updated\n\t\t\t} else if (!outlet) {\n\t\t\t\t// tslint:disable-next-line:max-line-length\n\t\t\t\tconst rootOutlet = this.createOutlet('primary', null, segmentGroup, null, null, this.currentUrlTree.queryParams);\n\t\t\t\tthis.currentOutlet = rootOutlet;\n\t\t\t}\n\n\t\t\tthis.currentOutlet.peekState().isRootSegmentGroup = true;\n\t\t\treturn;\n\t\t}\n\n\t\tconst queue = [];\n\t\tlet currentTree = <any>urlTreeRoot;\n\n\t\twhile (currentTree) {\n\t\t\tObject.keys(currentTree.children).forEach((outletName) => {\n\t\t\t\tconst currentSegmentGroup = currentTree.children[outletName];\n\t\t\t\tcurrentSegmentGroup.outlet = outletName;\n\t\t\t\tcurrentSegmentGroup.root = urlTreeRoot;\n\n\t\t\t\tconst outletPath = this.getSegmentGroupFullPath(currentTree);\n\t\t\t\tlet outletKey = this.getOutletKey(outletPath, outletName);\n\t\t\t\tlet outlet = this.findOutlet(outletKey);\n\n\t\t\t\tconst parentOutletName = currentTree.outlet || '';\n\t\t\t\tconst parentOutletPath = this.getSegmentGroupFullPath(currentTree.parent);\n\t\t\t\tconst parentOutletKey = this.getOutletKey(parentOutletPath, parentOutletName);\n\t\t\t\tconst parentOutlet = this.findOutlet(parentOutletKey);\n\n\t\t\t\tconst containsLastState = outlet && outlet.containsTopState(currentSegmentGroup.toString());\n\t\t\t\tif (!outlet) {\n\t\t\t\t\t// tslint:disable-next-line:max-line-length\n\t\t\t\t\toutlet = this.createOutlet(outletKey, outletPath, currentSegmentGroup, parentOutlet, this._modalNavigationDepth, this.currentUrlTree.queryParams);\n\t\t\t\t\tthis.currentOutlet = outlet;\n\t\t\t\t} else if (this._modalNavigationDepth > 0 && outlet.showingModal && !containsLastState) {\n\t\t\t\t\t// Navigation inside modal view.\n\t\t\t\t\tthis.upsertModalOutlet(outlet, currentSegmentGroup, this.currentUrlTree.queryParams);\n\t\t\t\t} else {\n\t\t\t\t\toutlet.parent = parentOutlet;\n\n\t\t\t\t\tif (this.updateStates(outlet, currentSegmentGroup, this.currentUrlTree.queryParams)) {\n\t\t\t\t\t\tthis.currentOutlet = outlet; // If states updated\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tqueue.push(currentSegmentGroup);\n\t\t\t});\n\n\t\t\tcurrentTree = queue.shift();\n\t\t}\n\t}\n\n\treplaceState(state: any, title: string, url: string, queryParams: string): void {\n\t\tconst states = this.currentOutlet && this.currentOutlet.states;\n\n\t\tif (states && states.length > 0) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.replaceState changing existing state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);\n\t\t\t}\n\t\t} else {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.replaceState pushing new state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);\n\t\t\t}\n\t\t\tthis.pushStateInternal(state, title, url, queryParams);\n\t\t}\n\t}\n\n\tforward(): void {\n\t\tthrow new Error('NSLocationStrategy.forward() - not implemented');\n\t}\n\n\tback(outlet?: Outlet, frame?: Frame): void {\n\t\tthis.currentOutlet = outlet || this.currentOutlet;\n\n\t\tif (this.currentOutlet.isPageNavigationBack) {\n\t\t\tconst states = this.currentOutlet.states;\n\t\t\t// We are navigating to the previous page\n\t\t\t// clear the stack until we get to a page navigation state\n\t\t\tlet state = states.pop();\n\t\t\tlet count = 1;\n\n\t\t\tif (frame) {\n\t\t\t\twhile (state.frame && state.frame !== frame) {\n\t\t\t\t\tstate = states.pop();\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile (!state.isPageNavigation) {\n\t\t\t\tstate = states.pop();\n\t\t\t\tcount++;\n\t\t\t}\n\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerLog(`NSLocationStrategy.back() while navigating back. States popped: ${count}`);\n\t\t\t}\n\t\t\tthis.callPopState(state, true);\n\t\t} else {\n\t\t\tlet state = this.currentOutlet.peekState();\n\t\t\tif (state && state.isPageNavigation) {\n\t\t\t\t// This was a page navigation - so navigate through frame.\n\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is page - will call frame.goBack()');\n\t\t\t\t}\n\n\t\t\t\tif (!outlet) {\n\t\t\t\t\tconst topmostFrame = this.frameService.getFrame();\n\t\t\t\t\tthis.currentOutlet = this.getOutletByFrame(topmostFrame) || this.currentOutlet;\n\t\t\t\t}\n\n\t\t\t\tconst frameToBack: Frame = this.currentOutlet.getFrameToBack();\n\t\t\t\tif (frameToBack) {\n\t\t\t\t\tframeToBack.goBack();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Nested navigation - just pop the state\n\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is not page - just pop');\n\t\t\t\t}\n\n\t\t\t\tthis.callPopState(this.currentOutlet.states.pop(), true);\n\t\t\t}\n\t\t}\n\t}\n\n\tcanGoBack(outlet?: Outlet) {\n\t\toutlet = outlet || this.currentOutlet;\n\t\treturn outlet.states.length > 1;\n\t}\n\n\tonPopState(fn: (_: any) => any): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.onPopState');\n\t\t}\n\t\tthis.popStateCallbacks.push(fn);\n\t}\n\n\tgetBaseHref(): string {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.getBaseHref()');\n\t\t}\n\t\treturn '';\n\t}\n\n\tprivate callPopState(state: LocationState, pop: boolean = true, outlet?: Outlet) {\n\t\toutlet = outlet || this.currentOutlet;\n\t\tconst urlSerializer = new DefaultUrlSerializer();\n\t\tlet changedOutlet = this.getSegmentGroupByOutlet(outlet);\n\n\t\tif (state && changedOutlet) {\n\t\t\tthis.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, state.segmentGroup);\n\t\t} else if (changedOutlet) {\n\t\t\t// when closing modal view there are scenarios (e.g. root viewContainerRef) when we need\n\t\t\t// to clean up the named page router outlet to make sure we will open the modal properly again if needed.\n\t\t\tthis.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, null);\n\t\t}\n\n\t\tconst url = urlSerializer.serialize(this.currentUrlTree);\n\t\tconst change = { url: url, pop: pop };\n\t\tfor (let fn of this.popStateCallbacks) {\n\t\t\tfn(change);\n\t\t}\n\t}\n\n\tpublic toString() {\n\t\tlet result = [];\n\n\t\tthis.outlets.forEach((outlet) => {\n\t\t\tconst outletStates = outlet.states;\n\t\t\tconst outletLog = outletStates\n\t\t\t\t// tslint:disable-next-line:max-line-length\n\t\t\t\t.map((v, i) => `${outlet.outletKeys}.${i}.[${v.isPageNavigation ? 'PAGE' : 'INTERNAL'}].[${outlet.modalNavigationDepth ? 'MODAL' : 'BASE'}] \"${v.segmentGroup.toString()}\"`)\n\t\t\t\t.reverse();\n\n\t\t\tresult = result.concat(outletLog);\n\t\t});\n\n\t\treturn result.join('\\n');\n\t}\n\n\t// Methods for syncing with page navigation in PageRouterOutlet\n\tpublic _beginBackPageNavigation(frame: Frame) {\n\t\tconst outlet: Outlet = this.getOutletByFrame(frame);\n\n\t\tif (!outlet || outlet.isPageNavigationBack) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerError('Attempted to call startGoBack while going back.');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.startGoBack()');\n\t\t}\n\t\toutlet.isPageNavigationBack = true;\n\n\t\tthis.currentOutlet = outlet;\n\t}\n\n\tpublic _finishBackPageNavigation(frame: Frame) {\n\t\tconst outlet: Outlet = this.getOutletByFrame(frame);\n\n\t\tif (!outlet || !outlet.isPageNavigationBack) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerError('Attempted to call endGoBack while not going back.');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.finishBackPageNavigation()');\n\t\t}\n\t\toutlet.isPageNavigationBack = false;\n\t}\n\n\tpublic _beginModalNavigation(frame: Frame): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy._beginModalNavigation()');\n\t\t}\n\n\t\tthis.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;\n\n\t\t// It is possible to have frame, but not corresponding Outlet, if\n\t\t// showing modal dialog on app.component.ts ngOnInit() e.g. In that case\n\t\t// the modal is treated as none modal navigation.\n\t\tif (this.currentOutlet) {\n\t\t\tthis.currentOutlet.showingModal = true;\n\t\t\tthis._modalNavigationDepth++;\n\t\t}\n\t}\n\n\tpublic _closeModalNavigation() {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.closeModalNavigation()');\n\t\t}\n\n\t\tconst isShowingModal = this._modalNavigationDepth > 0;\n\n\t\tif (isShowingModal) {\n\t\t\tthis._modalNavigationDepth--;\n\t\t}\n\n\t\t// currentOutlet should be the one that corresponds to the topmost frame\n\t\tconst topmostOutlet = this.getOutletByFrame(this.frameService.getFrame());\n\t\tconst outlet = this.findOutletByModal(this._modalNavigationDepth, isShowingModal) || topmostOutlet;\n\n\t\tif (outlet) {\n\t\t\tthis.currentOutlet = outlet;\n\t\t\tthis.currentOutlet.showingModal = false;\n\t\t\tthis.callPopState(this.currentOutlet.peekState(), false);\n\t\t}\n\t}\n\n\tpublic _beginPageNavigation(frame: Frame): NavigationOptions {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation()');\n\t\t}\n\n\t\tthis.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;\n\t\tconst lastState = this.currentOutlet.peekState();\n\n\t\tif (lastState) {\n\t\t\tlastState.isPageNavigation = true;\n\t\t}\n\n\t\tconst navOptions = this._currentNavigationOptions || defaultNavOptions;\n\t\tif (navOptions.clearHistory) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation clearing states history');\n\t\t\t}\n\t\t\tthis.currentOutlet.states = [lastState];\n\t\t}\n\n\t\tthis._currentNavigationOptions = undefined;\n\t\treturn navOptions;\n\t}\n\n\tpublic _setNavigationOptions(options: NavigationOptions) {\n\t\tthis._currentNavigationOptions = {\n\t\t\tclearHistory: isPresent(options.clearHistory) ? options.clearHistory : false,\n\t\t\tanimated: isPresent(options.animated) ? options.animated : true,\n\t\t\ttransition: options.transition,\n\t\t};\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy._setNavigationOptions(' + `${JSON.stringify(this._currentNavigationOptions)})`);\n\t\t}\n\t}\n\n\tpublic _getOutlets(): Array<Outlet> {\n\t\treturn this.outlets;\n\t}\n\n\tupdateOutletFrame(outlet: Outlet, frame: Frame, isEmptyOutletFrame: boolean) {\n\t\tconst lastState = outlet.peekState();\n\n\t\tif (lastState && !lastState.frame && !isEmptyOutletFrame) {\n\t\t\tlastState.frame = frame;\n\t\t}\n\n\t\tif (!outlet.containsFrame(frame)) {\n\t\t\toutlet.frames.push(frame);\n\t\t}\n\t\tthis.currentOutlet = outlet;\n\t}\n\n\tclearOutlet(frame: Frame) {\n\t\tthis.outlets = this.outlets.filter((currentOutlet) => {\n\t\t\tlet isEqualToCurrent;\n\n\t\t\tif (this.currentOutlet) {\n\t\t\t\tisEqualToCurrent = currentOutlet.pathByOutlets === this.currentOutlet.pathByOutlets;\n\t\t\t}\n\n\t\t\t// Remove outlet from the url tree.\n\t\t\tif (currentOutlet.containsFrame(frame) && !isEqualToCurrent) {\n\t\t\t\tthis.callPopState(null, true, currentOutlet);\n\t\t\t}\n\n\t\t\t// Skip frames filtering since currentOutlet is <router-outlet> when no frames available.\n\t\t\tif (currentOutlet.frames.length && !currentOutlet.isNSEmptyOutlet) {\n\t\t\t\tcurrentOutlet.frames = currentOutlet.frames.filter((currentFrame) => currentFrame !== frame);\n\t\t\t\treturn currentOutlet.frames.length;\n\t\t\t}\n\n\t\t\treturn !currentOutlet.containsFrame(frame);\n\t\t});\n\t}\n\n\tgetSegmentGroupFullPath(segmentGroup: UrlSegmentGroup): string {\n\t\tlet fullPath = '';\n\n\t\twhile (segmentGroup) {\n\t\t\tconst url = segmentGroup.toString();\n\n\t\t\tif (fullPath) {\n\t\t\t\tfullPath = (url ? url + '/' : '') + fullPath;\n\t\t\t} else {\n\t\t\t\tfullPath = url;\n\t\t\t}\n\n\t\t\tsegmentGroup = segmentGroup.parent;\n\t\t}\n\n\t\treturn fullPath;\n\t}\n\n\tgetRouteFullPath(currentRoute: any): string {\n\t\tconst outletName = currentRoute.outlet;\n\t\tlet fullPath;\n\n\t\tcurrentRoute = currentRoute.parent;\n\t\twhile (currentRoute) {\n\t\t\tconst urls = currentRoute.url.value || currentRoute.url;\n\t\t\tlet url = urls;\n\n\t\t\tif (Array.isArray(urls)) {\n\t\t\t\turl = url.join('/');\n\t\t\t}\n\n\t\t\tfullPath = fullPath ? (url ? url + '/' : url) + fullPath : url;\n\t\t\tcurrentRoute = currentRoute.parent;\n\t\t}\n\n\t\treturn fullPath ? fullPath + '-' + outletName : outletName;\n\t}\n\n\tgetPathByOutlets(urlSegmentGroup: any): string {\n\t\tif (!urlSegmentGroup) {\n\t\t\treturn '';\n\t\t}\n\n\t\tlet pathToOutlet;\n\t\tlet lastPath = urlSegmentGroup.outlet || 'primary';\n\t\tlet parent = urlSegmentGroup.parent;\n\n\t\twhile (parent && urlSegmentGroup.root !== parent) {\n\t\t\tif (parent && parent.outlet !== lastPath) {\n\t\t\t\tif (lastPath === 'primary') {\n\t\t\t\t\tlastPath = parent.outlet;\n\t\t\t\t} else {\n\t\t\t\t\tlastPath = parent.outlet;\n\t\t\t\t\tpathToOutlet = lastPath + '-' + (pathToOutlet || urlSegmentGroup.outlet);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tparent = parent.parent;\n\t\t}\n\n\t\treturn pathToOutlet || lastPath;\n\t}\n\n\tfindOutlet(outletKey: string, activatedRouteSnapshot?: ActivatedRouteSnapshot): Outlet {\n\t\tlet outlet: Outlet = this.outlets.find((currentOutlet) => {\n\t\t\tlet equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;\n\t\t\treturn equalModalDepth && currentOutlet.outletKeys.indexOf(outletKey) > -1;\n\t\t});\n\n\t\t// No Outlet with the given outletKey could happen when using nested unnamed p-r-o\n\t\t// primary -> primary -> prymary\n\t\tif (!outlet && activatedRouteSnapshot) {\n\t\t\tconst pathByOutlets = this.getPathByOutlets(activatedRouteSnapshot);\n\t\t\toutlet = this.outlets.find((currentOutlet) => {\n\t\t\t\tlet equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;\n\t\t\t\treturn equalModalDepth && currentOutlet.pathByOutlets === pathByOutlets;\n\t\t\t});\n\t\t}\n\n\t\treturn outlet;\n\t}\n\n\tprivate findOutletByModal(modalNavigation: number, isShowingModal?: boolean): Outlet {\n\t\treturn this.outlets.find((outlet) => {\n\t\t\tlet equalModalDepth = outlet.modalNavigationDepth === modalNavigation;\n\t\t\treturn isShowingModal ? equalModalDepth && outlet.showingModal : equalModalDepth;\n\t\t});\n\t}\n\n\tprivate getOutletByFrame(frame: Frame): Outlet {\n\t\tlet outlet;\n\n\t\tfor (let index = 0; index < this.outlets.length; index++) {\n\t\t\tconst currentOutlet = this.outlets[index];\n\n\t\t\tif (currentOutlet.containsFrame(frame)) {\n\t\t\t\toutlet = currentOutlet;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn outlet;\n\t}\n\n\tprivate updateStates(outlet: Outlet, currentSegmentGroup: UrlSegmentGroup, queryParams: Params): boolean {\n\t\tconst isNewPage = outlet.states.length === 0;\n\t\tconst lastState = outlet.states[outlet.states.length - 1];\n\t\tconst equalStateUrls = outlet.containsTopState(currentSegmentGroup.toString());\n\n\t\tconst locationState: LocationState = {\n\t\t\tsegmentGroup: currentSegmentGroup,\n\t\t\tisRootSegmentGroup: false,\n\t\t\tisPageNavigation: isNewPage,\n\t\t\tqueryParams: { ...queryParams },\n\t\t};\n\n\t\tif (!lastState || !equalStateUrls) {\n\t\t\toutlet.states.push(locationState);\n\n\t\t\t// Update last state segmentGroup of parent Outlet.\n\t\t\tif (this._modalNavigationDepth === 0 && !outlet.showingModal) {\n\t\t\t\tthis.updateParentsStates(outlet, currentSegmentGroup.parent);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate updateParentsStates(outlet: Outlet, newSegmentGroup: UrlSegmentGroup) {\n\t\tlet parentOutlet = outlet.parent;\n\n\t\t// Update parents lastState segmentGroups\n\t\twhile (parentOutlet && newSegmentGroup) {\n\t\t\tconst state = parentOutlet.peekState();\n\n\t\t\tif (state) {\n\t\t\t\tstate.segmentGroup = newSegmentGroup;\n\t\t\t\tnewSegmentGroup = newSegmentGroup.parent;\n\t\t\t\tparentOutlet = parentOutlet.parent;\n\t\t\t}\n\t\t}\n\t}\n\n\t// tslint:disable-next-line:max-line-length\n\tprivate createOutlet(outletKey: string, path: string, segmentGroup: any, parent: Outlet, modalNavigation?: number, queryParams: Params = {}): Outlet {\n\t\tconst pathByOutlets = this.getPathByOutlets(segmentGroup);\n\t\tconst newOutlet = new Outlet(outletKey, path, pathByOutlets, modalNavigation);\n\n\t\tconst locationState: LocationState = {\n\t\t\tsegmentGroup: segmentGroup,\n\t\t\tisRootSegmentGroup: false,\n\t\t\tisPageNavigation: true, // It is a new OutletNode.\n\t\t\tqueryParams: { ...queryParams },\n\t\t};\n\n\t\tnewOutlet.states = [locationState];\n\t\tnewOutlet.parent = parent;\n\t\tthis.outlets.push(newOutlet);\n\n\t\t// Update last state segmentGroup of parent Outlet.\n\t\tif (this._modalNavigationDepth === 0 && !newOutlet.showingModal) {\n\t\t\tthis.updateParentsStates(newOutlet, segmentGroup.parent);\n\t\t}\n\n\t\treturn newOutlet;\n\t}\n\n\tprivate getSegmentGroupByOutlet(outlet: Outlet): UrlSegmentGroup {\n\t\tconst pathList = outlet.pathByOutlets.split('-');\n\t\tlet segmentGroup = this.currentUrlTree.root;\n\t\tlet pathToOutlet;\n\n\t\tfor (let index = 0; index < pathList.length; index++) {\n\t\t\tconst currentPath = pathList[index];\n\t\t\tconst childrenCount = Object.keys(segmentGroup.children).length;\n\n\t\t\tif (childrenCount && segmentGroup.children[currentPath]) {\n\t\t\t\tconst url = segmentGroup.toString();\n\t\t\t\tpathToOutlet = pathToOutlet ? pathToOutlet + '/' + url : url;\n\t\t\t\tsegmentGroup = segmentGroup.children[currentPath];\n\t\t\t} else {\n\t\t\t\t// If no child outlet found with the given name - forget about all previously found outlets.\n\t\t\t\t// example: seaching for 'primary-second-primary' shouldn't return 'primary-second'\n\t\t\t\t// if no 'primary' child available on 'second'.\n\t\t\t\tsegmentGroup = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Paths should also match since there could be another Outlet\n\t\t// with the same pathByOutlets but different url path.\n\t\tif (segmentGroup && outlet.path && pathToOutlet && outlet.path !== pathToOutlet) {\n\t\t\tsegmentGroup = null;\n\t\t}\n\n\t\treturn segmentGroup;\n\t}\n\n\t// Traversal and replacement of segmentGroup.\n\tprivate updateSegmentGroup(rootNode: any, oldSegmentGroup: UrlSegmentGroup, newSegmentGroup: UrlSegmentGroup) {\n\t\tconst queue = [];\n\t\tlet currentTree = rootNode;\n\n\t\twhile (currentTree) {\n\t\t\tObject.keys(currentTree.children).forEach((outletName) => {\n\t\t\t\tif (currentTree.children[outletName] === oldSegmentGroup) {\n\t\t\t\t\tif (newSegmentGroup) {\n\t\t\t\t\t\tcurrentTree.children[outletName] = newSegmentGroup;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelete currentTree.children[outletName];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tqueue.push(currentTree.children[outletName]);\n\t\t\t});\n\n\t\t\tcurrentTree = queue.shift();\n\t\t}\n\t}\n\n\tprivate upsertModalOutlet(parentOutlet: Outlet, segmentedGroup: UrlSegmentGroup, queryParams: Params) {\n\t\tlet currentModalOutlet = this.findOutletByModal(this._modalNavigationDepth);\n\n\t\t// We want to treat every p-r-o as a standalone Outlet.\n\t\tif (!currentModalOutlet) {\n\t\t\tif (this._modalNavigationDepth > 1) {\n\t\t\t\t// The parent of the current Outlet should be the previous opened modal (if any).\n\t\t\t\tparentOutlet = this.findOutletByModal(this._modalNavigationDepth - 1);\n\t\t\t}\n\n\t\t\t// No currentModalOutlet available when opening 'primary' p-r-o.\n\t\t\tconst outletName = 'primary';\n\t\t\tconst outletPath = parentOutlet.peekState().segmentGroup.toString();\n\t\t\tconst outletKey = this.getOutletKey(outletPath, outletName);\n\t\t\t// tslint:disable-next-line:max-line-length\n\t\t\tcurrentModalOutlet = this.createOutlet(outletKey, outletPath, segmentedGroup, parentOutlet, this._modalNavigationDepth, queryParams);\n\t\t\tthis.currentOutlet = currentModalOutlet;\n\t\t} else if (this.updateStates(currentModalOutlet, segmentedGroup, queryParams)) {\n\t\t\tthis.currentOutlet = currentModalOutlet; // If states updated\n\t\t}\n\t}\n\n\tprivate getOutletKey(path: string, outletName: string): string {\n\t\treturn path ? path + '-' + outletName : outletName;\n\t}\n\n\tngOnDestroy() {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NSLocationStrategy.ngOnDestroy()');\n\t\t}\n\n\t\tthis.outlets = [];\n\t\tthis.currentOutlet = null;\n\t}\n}\n","import { ComponentRef, ComponentFactory, ViewContainerRef, Component, Type, ComponentFactoryResolver, ChangeDetectorRef, ApplicationRef, OnDestroy } from '@angular/core';\nimport { Trace } from '@nativescript/core';\n\n/**\n * Wrapper component used for loading components when navigating\n * It uses DetachedContainer as selector so that it is containerRef is not attached to\n * the visual tree.\n */\n@Component({\n\tselector: 'DetachedContainer',\n\ttemplate: `<Placeholder #loader></Placeholder>`,\n})\nexport class DetachedLoader implements OnDestroy {\n\tprivate disposeFunctions: Array<() => void> = [];\n\t// tslint:disable-line:component-class-suffix\n\tconstructor(private resolver: ComponentFactoryResolver, private changeDetector: ChangeDetectorRef, private containerRef: ViewContainerRef, private appRef: ApplicationRef) {}\n\n\tprivate loadInLocation(componentType: Type<any>): Promise<ComponentRef<any>> {\n\t\tconst factory = this.resolver.resolveComponentFactory(componentType);\n\t\tconst componentRef = factory.create(this.containerRef.injector);\n\t\tthis.appRef.attachView(componentRef.hostView);\n\n\t\tthis.disposeFunctions.push(() => {\n\t\t\tthis.appRef.detachView(componentRef.hostView);\n\t\t\tcomponentRef.destroy();\n\t\t});\n\n\t\t// Component is created, built may not be checked if we are loading\n\t\t// inside component with OnPush CD strategy. Mark us for check to be sure CD will reach us.\n\t\t// We are inside a promise here so no need for setTimeout - CD should trigger\n\t\t// after the promise.\n\t\tTrace.write('DetachedLoader.loadInLocation component loaded -> markForCheck', 'detached-loader');\n\n\t\treturn Promise.resolve(componentRef);\n\t}\n\n\tpublic ngOnDestroy() {\n\t\tthis.disposeFunctions.forEach((fn) => fn());\n\t}\n\n\tpublic detectChanges() {\n\t\tthis.changeDetector.markForCheck();\n\t}\n\n\t// TODO: change this API -- async promises not needed here anymore.\n\tpublic loadComponent(componentType: Type<any>): Promise<ComponentRef<any>> {\n\t\tTrace.write('DetachedLoader.loadComponent', 'detached-loader');\n\t\treturn this.loadInLocation(componentType);\n\t}\n\n\tpublic loadWithFactory<T>(factory: ComponentFactory<T>): ComponentRef<T> {\n\t\tconst componentRef = factory.create(this.containerRef.injector);\n\t\tthis.appRef.attachView(componentRef.hostView);\n\n\t\tthis.disposeFunctions.push(() => {\n\t\t\tthis.appRef.detachView(componentRef.hostView);\n\t\t\tcomponentRef.destroy();\n\t\t});\n\t\treturn componentRef;\n\t}\n}\n","/**\n * Utility method to ensure a NgModule is only imported once in a codebase, otherwise will throw to help prevent accidental double importing\n * @param parentModule Parent module name\n * @param moduleName The module name\n */\nexport function throwIfAlreadyLoaded(parentModule: any, moduleName: string) {\n\tif (parentModule) {\n\t\tthrow new Error(`${moduleName} has already been loaded. Import ${moduleName} in the AppModule only.`);\n\t}\n}\n\n/**\n * Utility method which will only fire the callback once ever\n * @param fn callback to call only once\n */\nexport function once(fn: Function) {\n\tlet wasCalled = false;\n\n\treturn function wrapper() {\n\t\tif (wasCalled) {\n\t\t\treturn;\n\t\t}\n\n\t\twasCalled = true;\n\t\tfn.apply(null, arguments);\n\t};\n}\n","import { ComponentFactoryResolver, ComponentRef, Injectable, Injector, NgModuleRef, NgZone, Type, ViewContainerRef } from '@angular/core';\nimport { Frame, View, ViewBase, ProxyViewContainer, ShowModalOptions } from '@nativescript/core';\n\nimport { NSLocationStrategy } from '../router/ns-location-strategy';\nimport { AppHostView, AppHostAsyncView } from '../app-host-view';\nimport { DetachedLoader } from '../common/detached-loader';\nimport { PageFactory, PAGE_FACTORY } from '../platform-providers';\nimport { once } from '../common/utils';\n\nexport type BaseShowModalOptions = Pick<ShowModalOptions, Exclude<keyof ShowModalOptions, 'closeCallback' | 'context'>>;\n\nexport interface ModalDialogOptions extends BaseShowModalOptions {\n\tcontext?: any;\n\tviewContainerRef?: ViewContainerRef;\n\tmoduleRef?: NgModuleRef<any>;\n\ttarget?: View;\n}\n\nexport interface ShowDialogOptions extends BaseShowModalOptions {\n\tcontainerRef: ViewContainerRef;\n\tcontext: any;\n\tdoneCallback;\n\tpageFactory: PageFactory;\n\tparentView: ViewBase;\n\tresolver: ComponentFactoryResolver;\n\ttype: Type<any>;\n}\n\nexport class ModalDialogParams {\n\tconstructor(public context: any = {}, public closeCallback: (...args) => any) {}\n}\n\n@Injectable()\nexport class ModalDialogService {\n\tconstructor(private location: NSLocationStrategy, private zone: NgZone) {}\n\n\tpublic showModal(type: Type<any>, options: ModalDialogOptions): Promise<any> {\n\t\tif (!options.viewContainerRef) {\n\t\t\tthrow new Error('No viewContainerRef: ' + 'Make sure you pass viewContainerRef in ModalDialogOptions.');\n\t\t}\n\n\t\tlet parentView = options.viewContainerRef.element.nativeElement;\n\t\tif (options.target) {\n\t\t\tparentView = options.target;\n\t\t}\n\n\t\tif ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {\n\t\t\tparentView = parentView.ngAppRoot;\n\t\t}\n\n\t\t// _ngDialogRoot is the first child of the previously detached proxy.\n\t\t// It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for\n\t\t// presenting future modal views.\n\t\tif (parentView._ngDialogRoot) {\n\t\t\tparentView = parentView._ngDialogRoot;\n\t\t}\n\n\t\tconst pageFactory: PageFactory = options.viewContainerRef.injector.get(PAGE_FACTORY);\n\n\t\t// resolve from particular module (moduleRef)\n\t\t// or from same module as parentView (viewContainerRef)\n\t\tconst componentContainer = options.moduleRef || options.viewContainerRef;\n\t\tconst resolver = componentContainer.injector.get(ComponentFactoryResolver);\n\n\t\tlet frame = parentView;\n\t\tif (!(parentView instanceof Frame)) {\n\t\t\tframe = (parentView.page && parentView.page.frame) || Frame.topmost();\n\t\t}\n\n\t\tthis.location._beginModalNavigation(frame);\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tthis._showDialog({\n\t\t\t\t\t\t...options,\n\t\t\t\t\t\tcontainerRef: options.viewContainerRef,\n\t\t\t\t\t\tcontext: options.context,\n\t\t\t\t\t\tdoneCallback: resolve,\n\t\t\t\t\t\tpageFactory,\n\t\t\t\t\t\tparentView,\n\t\t\t\t\t\tresolver,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t});\n\t\t\t\t} catch (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t}, 10);\n\t\t});\n\t}\n\n\tprivate _showDialog(options: ShowDialogOptions): void {\n\t\tlet componentView: View;\n\t\tlet detachedLoaderRef: ComponentRef<DetachedLoader>;\n\n\t\tconst closeCallback = once((...args) => {\n\t\t\toptions.doneCallback.apply(undefined, args);\n\t\t\tif (componentView) {\n\t\t\t\tcomponentView.closeModal();\n\t\t\t\tthis.location._closeModalNavigation();\n\t\t\t\tthis.zone.run(() => {\n\t\t\t\t\tdetachedLoaderRef.instance.detectChanges();\n\t\t\t\t\tdetachedLoaderRef.destroy();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tconst modalParams = new ModalDialogParams(options.context, closeCallback);\n\n\t\tconst childInjector = Injector.create({\n\t\t\tproviders: [{ provide: ModalDialogParams, useValue: modalParams }],\n\t\t\tparent: options.containerRef.injector,\n\t\t});\n\t\tconst detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);\n\t\tdetachedLoaderRef = options.containerRef.createComponent(detachedFactory, 0, childInjector, null);\n\t\tthis.zone.run(() => {\n\t\t\tdetachedLoaderRef.instance.loadComponent(options.type).then((compRef) => {\n\t\t\t\tconst detachedProxy = <ProxyViewContainer>compRef.location.nativeElement;\n\n\t\t\t\tif (detachedProxy.getChildrenCount() > 1) {\n\t\t\t\t\tthrow new Error('Modal content has more than one root view.');\n\t\t\t\t}\n\t\t\t\tcomponentView = detachedProxy.getChildAt(0);\n\n\t\t\t\tif (componentView.parent) {\n\t\t\t\t\t(<any>componentView.parent)._ngDialogRoot = componentView;\n\t\t\t\t\t(<any>componentView.parent).removeChild(componentView);\n\t\t\t\t}\n\n\t\t\t\toptions.parentView.showModal(componentView, { ...options, closeCallback });\n\t\t\t});\n\t\t});\n\t}\n}\n","import { View, LayoutBase, Page, Frame, AbsoluteLayout, ActivityIndicator, BottomNavigation, Button, ContentView, DatePicker, DockLayout, GridLayout, HtmlView, Image, Label, ListPicker, ListView, Placeholder, Progress, ProxyViewContainer, Repeater, ScrollView, SearchBar, SegmentedBar, SegmentedBarItem, Slider, StackLayout, FlexboxLayout, Switch, TabView, TabStrip, TabStripItem, TabContentItem, Tabs, TextField, TextView, TimePicker, WebView, WrapLayout, FormattedString, Span } from '@nativescript/core';\n\nexport interface ViewClass {\n\tnew (): View;\n}\nexport interface ViewExtensions {\n\tmeta: ViewClassMeta;\n\tnodeType: number;\n\tnodeName: string;\n\tparentNode: NgView;\n\tnextSibling: NgView;\n\tpreviousSibling: NgView;\n\tfirstChild: NgView;\n\tlastChild: NgView;\n\tngCssClasses: Map<string, boolean>;\n}\n\nexport type NgView = View & ViewExtensions;\n\nexport abstract class InvisibleNode extends View implements NgView {\n\tmeta: { skipAddToDom: boolean };\n\tnodeType: number;\n\tnodeName: string;\n\tparentNode: NgView;\n\tnextSibling: NgView;\n\tpreviousSibling: NgView;\n\tfirstChild: NgView;\n\tlastChild: NgView;\n\tngCssClasses: Map<string, boolean>;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.nodeType = 1;\n\t\tthis.nodeName = getClassName(this);\n\t}\n\n\ttoString() {\n\t\treturn `${this.nodeName}(${this.id})`;\n\t}\n}\n\nexport class CommentNode extends InvisibleNode {\n\tprotected static id = 0;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.meta = {\n\t\t\tskipAddToDom: true,\n\t\t};\n\t\tthis.id = CommentNode.id.toString();\n\t\tCommentNode.id += 1;\n\t}\n}\n\nexport class TextNode extends InvisibleNode {\n\tprotected static id = 0;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.meta = {\n\t\t\tskipAddToDom: true,\n\t\t};\n\t\tthis.id = TextNode.id.toString();\n\t\tTextNode.id += 1;\n\t}\n}\n\nconst getClassName = (instance) => instance.constructor.name;\n\nexport interface ViewClassMeta {\n\tskipAddToDom?: boolean;\n\tinsertChild?: (parent: any, child: any, next?: any) => void;\n\tremoveChild?: (parent: any, child: any) => void;\n}\n\nexport function isDetachedElement(element): boolean {\n\treturn element && element.meta && element.meta.skipAddToDom;\n}\n\nexport function isView(view: any): view is NgView {\n\treturn view instanceof View;\n}\n\nexport function isInvisibleNode(view: any): view is InvisibleNode {\n\treturn view instanceof InvisibleNode;\n}\n\nexport type ViewResolver = () => any;\n\nconst elementMap = new Map<string, { resolver: ViewResolver; meta?: ViewClassMeta }>();\nconst camelCaseSplit = /([a-z0-9])([A-Z])/g;\nconst defaultViewMeta: ViewClassMeta = { skipAddToDom: false };\n\nexport function registerElement(elementName: string, resolver: ViewResolver, meta?: ViewClassMeta): void {\n\tconst entry = { resolver, meta };\n\telementMap.set(elementName, entry);\n\telementMap.set(elementName.toLowerCase(), entry);\n\telementMap.set(elementName.replace(camelCaseSplit, '$1-$2').toLowerCase(), entry);\n}\n\nexport function getViewClass(elementName: string): any {\n\tconst entry = elementMap.get(elementName) || elementMap.get(elementName.toLowerCase());\n\tif (!entry) {\n\t\tthrow new TypeError(`No known component for element ${elementName}.`);\n\t}\n\n\ttry {\n\t\treturn entry.resolver();\n\t} catch (e) {\n\t\tthrow new TypeError(`Could not load view for: ${elementName}.${e}`);\n\t}\n}\n\nexport function getViewMeta(nodeName: string): ViewClassMeta {\n\tconst entry = elementMap.get(nodeName) || elementMap.get(nodeName.toLowerCase());\n\treturn (entry && entry.meta) || defaultViewMeta;\n}\n\nexport function isKnownView(elementName: string): boolean {\n\treturn elementMap.has(elementName) || elementMap.has(elementName.toLowerCase());\n}\n\nexport function getSingleViewRecursive(nodes: Array<any>, nestLevel: number): View {\n\tconst actualNodes = nodes.filter((node) => !(node instanceof InvisibleNode));\n\n\tif (actualNodes.length === 0) {\n\t\tthrow new Error(`No suitable views found in list template! ` + `Nesting level: ${nestLevel}`);\n\t} else if (actualNodes.length > 1) {\n\t\tthrow new Error(`More than one view found in list template!` + `Nesting level: ${nestLevel}`);\n\t}\n\n\tconst rootLayout = actualNodes[0];\n\tif (!rootLayout) {\n\t\treturn getSingleViewRecursive(rootLayout.children, nestLevel + 1);\n\t}\n\n\tconst parentLayout = rootLayout.parent;\n\tif (parentLayout instanceof LayoutBase) {\n\t\tlet node = rootLayout.parentNode;\n\t\tparentLayout.removeChild(rootLayout);\n\t\trootLayout.parentNode = node;\n\t}\n\n\treturn rootLayout;\n}\n\nconst frameMeta: ViewClassMeta = {\n\tinsertChild: (parent: Frame, child: NgView, next: any) => {\n\t\t// Page cannot be added to Frame with _addChildFromBuilder (thwos \"use defaultPage\" error)\n\t\tif (isInvisibleNode(child)) {\n\t\t\treturn;\n\t\t} else if (child instanceof Page) {\n\t\t\tparent.navigate({ create: () => child });\n\t\t} else {\n\t\t\tthrow new Error('Only a Page can be a child of Frame');\n\t\t}\n\t},\n};\n\n// Register default NativeScript components\n// Note: ActionBar related components are registerd together with action-bar directives.\nregisterElement('AbsoluteLayout', () => AbsoluteLayout);\nregisterElement('ActivityIndicator', () => ActivityIndicator);\nregisterElement('BottomNavigation', () => BottomNavigation);\nregisterElement('Button', () => Button);\nregisterElement('ContentView', () => ContentView);\nregisterElement('DatePicker', () => DatePicker);\nregisterElement('DockLayout', () => DockLayout);\nregisterElement('Frame', () => <any>Frame, frameMeta);\nregisterElement('GridLayout', () => GridLayout);\nregisterElement('HtmlView', () => HtmlView);\nregisterElement('Image', () => Image);\n// Parse5 changes <Image> tags to <img>. WTF!\nregisterElement('img', () => Image);\nregisterElement('Label', () => Label);\nregisterElement('ListPicker', () => ListPicker);\nregisterElement('ListView', () => ListView);\nregisterElement('Page', () => Page);\nregisterElement('Placeholder', () => Placeholder);\nregisterElement('Progress', () => Progress);\nregisterElement('ProxyViewContainer', () => ProxyViewContainer);\nregisterElement('Repeater', () => Repeater);\nregisterElement('ScrollView', () => ScrollView);\nregisterElement('SearchBar', () => SearchBar);\nregisterElement('SegmentedBar', () => SegmentedBar);\nregisterElement('SegmentedBarItem', () => <any>SegmentedBarItem);\nregisterElement('Slider', () => Slider);\nregisterElement('StackLayout', () => StackLayout);\nregisterElement('FlexboxLayout', () => FlexboxLayout);\nregisterElement('Switch', () => Switch);\nregisterElement('TabView', () => TabView);\nregisterElement('TabStrip', () => TabStrip);\nregisterElement('TabStripItem', () => TabStripItem);\nregisterElement('TabContentItem', () => TabContentItem);\nregisterElement('Tabs', () => Tabs);\nregisterElement('TextField', () => TextField);\nregisterElement('TextView', () => TextView);\nregisterElement('TimePicker', () => TimePicker);\nregisterElement('WebView', () => WebView);\nregisterElement('WrapLayout', () => WrapLayout);\nregisterElement('FormattedString', () => <any>FormattedString);\nregisterElement('Span', () => <any>Span);\n\nregisterElement('DetachedContainer', () => ProxyViewContainer, {\n\tskipAddToDom: true,\n});\n\nregisterElement('page-router-outlet', () => <any>Frame);\n","import { AfterContentInit, ContentChild, Directive, DoCheck, ElementRef, EmbeddedViewRef, EventEmitter, Host, Inject, InjectionToken, Input, IterableDiffer, IterableDiffers, OnDestroy, Output, TemplateRef, ViewChild, ViewContainerRef, isListLikeIterable as isListLikeIterable, Injectable, NgZone } from '@angular/core';\nimport { ObservableArray, View, KeyedTemplate, LayoutBase, ItemEventData, TemplatedItemsView, profile } from '@nativescript/core';\n\nimport { getSingleViewRecursive } from '../element-registry';\nimport { NativeScriptDebug } from '../trace';\n\nconst NG_VIEW = '_ngViewRef';\n\nexport class ItemContext {\n\tconstructor(public $implicit?: any, public item?: any, public index?: number, public even?: boolean, public odd?: boolean) {}\n}\n\nexport interface SetupItemViewArgs {\n\tview: EmbeddedViewRef<any>;\n\tdata: any;\n\tindex: number;\n\tcontext: ItemContext;\n}\n\n@Directive()\nexport abstract class TemplatedItemsComponent implements DoCheck, OnDestroy, AfterContentInit {\n\tpublic abstract get nativeElement(): TemplatedItemsView;\n\n\tprotected templatedItemsView: TemplatedItemsView;\n\tprotected _items: any;\n\tprotected _differ: IterableDiffer<KeyedTemplate>;\n\tprotected _templateMap: Map<string, KeyedTemplate>;\n\n\t@ViewChild('loader', { read: ViewContainerRef, static: false }) loader: ViewContainerRef;\n\n\t@Output() public setupItemView = new EventEmitter<SetupItemViewArgs>();\n\n\t@ContentChild(TemplateRef, { read: TemplateRef, static: false }) itemTemplateQuery: TemplateRef<ItemContext>;\n\n\titemTemplate: TemplateRef<ItemContext>;\n\n\t@Input()\n\tget items() {\n\t\treturn this._items;\n\t}\n\n\tset items(value: any) {\n\t\tthis._items = value;\n\t\tlet needDiffer = true;\n\t\tif (value instanceof ObservableArray) {\n\t\t\tneedDiffer = false;\n\t\t}\n\t\tif (needDiffer && !this._differ && isListLikeIterable(value)) {\n\t\t\tthis._differ = this._iterableDiffers.find(this._items).create((_index, item) => {\n\t\t\t\treturn item;\n\t\t\t});\n\t\t}\n\n\t\tthis.templatedItemsView.items = this._items;\n\t}\n\n\tconstructor(_elementRef: ElementRef, private _iterableDiffers: IterableDiffers, private zone: NgZone) {\n\t\tthis.templatedItemsView = _elementRef.nativeElement;\n\n\t\tthis.templatedItemsView.on('itemLoading', this.onItemLoading, this);\n\t}\n\n\tngAfterContentInit() {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.listViewLog('TemplatedItemsView.ngAfterContentInit()');\n\t\t}\n\n\t\tthis.setItemTemplates();\n\t}\n\n\tngOnDestroy() {\n\t\tthis.templatedItemsView.off('itemLoading', this.onItemLoading, this);\n\t\tthis.templatedItemsView = null;\n\n\t\tif (this._templateMap) {\n\t\t\tthis._templateMap.clear();\n\t\t}\n\t}\n\n\tprivate setItemTemplates() {\n\t\t// The itemTemplateQuery may be changed after list items are added that contain <template> inside,\n\t\t// so cache and use only the original template to avoid errors.\n\t\tthis.itemTemplate = this.itemTemplateQuery;\n\n\t\tif (this._templateMap) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.listViewLog('Setting templates');\n\t\t\t}\n\n\t\t\tconst templates: KeyedTemplate[] = [];\n\t\t\tthis._templateMap.forEach((value) => {\n\t\t\t\ttemplates.push(value);\n\t\t\t});\n\t\t\tthis.templatedItemsView.itemTemplates = templates;\n\t\t}\n\t}\n\n\tpublic registerTemplate(key: string, template: TemplateRef<ItemContext>) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.listViewLog(`registerTemplate for key: ${key}`);\n\t\t}\n\n\t\tif (!this._templateMap) {\n\t\t\tthis._templateMap = new Map<string, KeyedTemplate>();\n\t\t}\n\n\t\tconst keyedTemplate = {\n\t\t\tkey,\n\t\t\tcreateView: this.getItemTemplateViewFactory(template),\n\t\t};\n\n\t\tthis._templateMap.set(key, keyedTemplate);\n\t}\n\n\t@profile\n\tpublic onItemLoading(args: ItemEventData) {\n\t\tif (!args.view && !this.itemTemplate) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst index = args.index;\n\t\tconst items = (<any>args.object).items;\n\t\tconst currentItem = typeof items.getItem === 'function' ? items.getItem(index) : items[index];\n\t\tlet viewRef: EmbeddedViewRef<ItemContext>;\n\n\t\tif (args.view) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.listViewLog(`onItemLoading: ${index} - Reusing existing view`);\n\t\t\t}\n\n\t\t\tviewRef = args.view[NG_VIEW];\n\n\t\t\t// Getting angular view from original element (in cases when ProxyViewContainer\n\t\t\t// is used NativeScript internally wraps it in a StackLayout)\n\t\t\tif (!viewRef && args.view instanceof LayoutBase && args.view.getChildrenCount() > 0) {\n\t\t\t\tviewRef = args.view.getChildAt(0)[NG_VIEW];\n\t\t\t}\n\n\t\t\tif (!viewRef && NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.listViewError(`ViewReference not found for item ${index}. View recycling is not working`);\n\t\t\t}\n\n\t\t\t// No ng-template is setup, continue with 'defaultTemplate'\n\t\t\tif (!viewRef) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (!viewRef) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.listViewLog(`onItemLoading: ${index} - Creating view from template`);\n\t\t\t}\n\n\t\t\tviewRef = this.loader.createEmbeddedView(this.itemTemplate, new ItemContext(), 0);\n\t\t\targs.view = getItemViewRoot(viewRef);\n\t\t\targs.view[NG_VIEW] = viewRef;\n\t\t}\n\n\t\tthis.setupViewRef(viewRef, currentItem, index);\n\n\t\tthis.detectChangesOnChild(viewRef, index);\n\t}\n\n\tpublic setupViewRef(viewRef: EmbeddedViewRef<ItemContext>, data: any, index: number): void {\n\t\tconst context = viewRef.context;\n\t\tcontext.$implicit = data;\n\t\tcontext.item = data;\n\t\tcontext.index = index;\n\t\tcontext.even = index % 2 === 0;\n\t\tcontext.odd = !context.even;\n\n\t\tthis.setupItemView.next({ view: viewRef, data: data, index: index, context: context });\n\t}\n\n\tprotected getItemTemplateViewFactory(template: TemplateRef<ItemContext>): () => View {\n\t\treturn () => {\n\t\t\tconst viewRef = this.loader.createEmbeddedView(template, new ItemContext(), 0);\n\t\t\tconst resultView = getItemViewRoot(viewRef);\n\t\t\tresultView[NG_VIEW] = viewRef;\n\n\t\t\treturn resultView;\n\t\t};\n\t}\n\n\t@profile\n\tprivate detectChangesOnChild(viewRef: EmbeddedViewRef<ItemContext>, index: number) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.listViewLog(`Manually detect changes in child: ${index}`);\n\t\t}\n\n\t\tthis.zone.run(() => {\n\t\t\tviewRef.markForCheck();\n\t\t\tviewRef.detectChanges();\n\t\t});\n\t}\n\n\tngDoCheck() {\n\t\tif (this._differ) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.listViewLog('ngDoCheck() - execute differ');\n\t\t\t}\n\n\t\t\tconst changes = this._differ.diff(this._items);\n\t\t\tif (changes) {\n\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\tNativeScriptDebug.listViewLog('ngDoCheck() - refresh');\n\t\t\t\t}\n\n\t\t\t\tthis.templatedItemsView.refresh();\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport interface ComponentView {\n\trootNodes: Array<any>;\n\tdestroy(): void;\n}\n\nexport type RootLocator = (nodes: Array<any>, nestLevel: number) => View;\n\nexport function getItemViewRoot(viewRef: ComponentView, rootLocator: RootLocator = getSingleViewRecursive): View {\n\tconst rootView = rootLocator(viewRef.rootNodes, 0);\n\treturn rootView;\n}\n\nexport const TEMPLATED_ITEMS_COMPONENT = new InjectionToken<TemplatedItemsComponent>('TemplatedItemsComponent');\n\n@Directive({ selector: '[nsTemplateKey]' })\nexport class TemplateKeyDirective {\n\tconstructor(private templateRef: TemplateRef<any>, @Inject(TEMPLATED_ITEMS_COMPONENT) @Host() private comp: TemplatedItemsComponent) {}\n\n\t@Input()\n\tset nsTemplateKey(value: any) {\n\t\tif (this.comp && this.templateRef) {\n\t\t\tthis.comp.registerTemplate(value, this.templateRef);\n\t\t}\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, IterableDiffers, forwardRef, NgZone } from '@angular/core';\nimport { ListView } from '@nativescript/core';\nimport { TEMPLATED_ITEMS_COMPONENT, TemplatedItemsComponent } from './templated-items-comp';\n\n@Component({\n\tselector: 'ListView',\n\ttemplate: ` <DetachedContainer>\n\t\t<Placeholder #loader></Placeholder>\n\t</DetachedContainer>`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tproviders: [{ provide: TEMPLATED_ITEMS_COMPONENT, useExisting: forwardRef(() => ListViewComponent) }],\n})\nexport class ListViewComponent extends TemplatedItemsComponent {\n\tpublic get nativeElement(): ListView {\n\t\treturn this.templatedItemsView;\n\t}\n\n\tprotected templatedItemsView: ListView;\n\n\tconstructor(_elementRef: ElementRef, _iterableDiffers: IterableDiffers, zone: NgZone) {\n\t\tsuper(_elementRef, _iterableDiffers, zone);\n\t}\n}\n","import { AfterViewInit, Directive, ElementRef, Input, OnInit, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { TabView, TabViewItem } from '@nativescript/core';\n\nimport { InvisibleNode } from '../element-registry';\nimport { NativeScriptDebug } from '../trace';\nimport { isBlank } from '../lang-facade';\n\ntype TextTransform = 'initial' | 'none' | 'capitalize' | 'uppercase' | 'lowercase';\nexport interface TabViewItemDef {\n\ttitle?: string;\n\ticonSource?: string;\n\ttextTransform?: TextTransform;\n}\n\n@Directive({\n\tselector: 'TabView', // tslint:disable-line:directive-selector\n})\nexport class TabViewDirective implements AfterViewInit {\n\tpublic tabView: TabView;\n\tprivate _selectedIndex: number;\n\tprivate viewInitialized: boolean;\n\n\t@Input()\n\tget selectedIndex(): number {\n\t\treturn this._selectedIndex;\n\t}\n\n\tset selectedIndex(value) {\n\t\tthis._selectedIndex = value;\n\t\tif (this.viewInitialized) {\n\t\t\tthis.tabView.selectedIndex = this._selectedIndex;\n\t\t}\n\t}\n\n\tconstructor(element: ElementRef) {\n\t\tthis.tabView = element.nativeElement;\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.viewInitialized = true;\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog('this._selectedIndex: ' + this._selectedIndex);\n\t\t}\n\t\tif (!isBlank(this._selectedIndex)) {\n\t\t\tthis.tabView.selectedIndex = this._selectedIndex;\n\t\t}\n\t}\n}\n\n@Directive({\n\tselector: '[tabItem]', // tslint:disable-line:directive-selector\n})\nexport class TabViewItemDirective implements OnInit {\n\tprivate item: TabViewItem;\n\tprivate _config: TabViewItemDef;\n\n\tconstructor(private owner: TabViewDirective, private templateRef: TemplateRef<any>, private viewContainer: ViewContainerRef) {}\n\n\t@Input('tabItem')\n\tset config(config: TabViewItemDef) {\n\t\tif (!this._config || this._config.iconSource !== config.iconSource || this._config.title !== config.title || this._config.textTransform !== config.textTransform) {\n\t\t\tthis._config = config;\n\t\t\tthis.applyConfig();\n\t\t}\n\t}\n\n\tget config(): TabViewItemDef {\n\t\t// tslint:disable-line:no-input-rename\n\t\treturn this._config || {};\n\t}\n\n\t@Input()\n\tset title(title: string) {\n\t\tthis.config = Object.assign(this.config, { title });\n\t}\n\n\tget title() {\n\t\treturn this.config.title;\n\t}\n\n\t@Input()\n\tset iconSource(iconSource: string) {\n\t\tthis.config = Object.assign(this.config, { iconSource });\n\t}\n\n\tget iconSource() {\n\t\treturn this.config.iconSource;\n\t}\n\n\t@Input()\n\tset textTransform(textTransform: TextTransform) {\n\t\tthis.config = Object.assign(this.config, { textTransform });\n\t}\n\n\tget textTransform() {\n\t\treturn this.config.textTransform;\n\t}\n\n\tprivate ensureItem() {\n\t\tif (!this.item) {\n\t\t\tthis.item = new TabViewItem();\n\t\t}\n\t}\n\n\tprivate applyConfig() {\n\t\tthis.ensureItem();\n\n\t\tif (this.config.title) {\n\t\t\tthis.item.title = this.config.title;\n\t\t}\n\n\t\tif (this.config.iconSource) {\n\t\t\tthis.item.iconSource = this.config.iconSource;\n\t\t}\n\n\t\t//  TabViewItem textTransform has a default value for Android that kick in\n\t\t// only if no value (even a null value) is set.\n\t\tif (this.config.textTransform) {\n\t\t\tthis.item.textTransform = this.config.textTransform;\n\t\t}\n\t}\n\n\tngOnInit() {\n\t\tthis.applyConfig();\n\n\t\tconst viewRef = this.viewContainer.createEmbeddedView(this.templateRef);\n\t\t// Filter out text nodes and comments\n\t\tconst realViews = viewRef.rootNodes.filter((node) => !(node instanceof InvisibleNode));\n\n\t\tif (realViews.length > 0) {\n\t\t\tthis.item.view = realViews[0];\n\n\t\t\tconst newItems = (this.owner.tabView.items || []).concat([this.item]);\n\t\t\tthis.owner.tabView.items = newItems;\n\t\t}\n\t}\n}\n","import { Directive, Component, ElementRef, Optional, OnDestroy } from '@angular/core';\nimport { ActionBar, ActionItem, ActionItems, NavigationButton, Page } from '@nativescript/core';\n\nimport { isBlank } from '../lang-facade';\nimport { NgView, ViewClassMeta, ViewExtensions, isInvisibleNode, isView, registerElement } from '../element-registry';\n\nexport function isActionItem(view: any): view is ActionItem {\n\treturn view instanceof ActionItem;\n}\n\nexport function isNavigationButton(view: any): view is NavigationButton {\n\treturn view instanceof NavigationButton;\n}\n\ntype NgActionBar = ActionBar & ViewExtensions;\n\nconst actionBarMeta: ViewClassMeta = {\n\tskipAddToDom: true,\n\tinsertChild: (parent: NgActionBar, child: NgView, next: any) => {\n\t\tif (isInvisibleNode(child)) {\n\t\t\treturn;\n\t\t} else if (isNavigationButton(child)) {\n\t\t\tparent.navigationButton = child;\n\t\t\tchild.parentNode = parent;\n\t\t} else if (isActionItem(child)) {\n\t\t\taddActionItem(parent, child, next);\n\t\t\tchild.parentNode = parent;\n\t\t} else if (isView(child)) {\n\t\t\tparent.titleView = child;\n\t\t}\n\t},\n\tremoveChild: (parent: NgActionBar, child: NgView) => {\n\t\tif (isInvisibleNode(child)) {\n\t\t\treturn;\n\t\t} else if (isNavigationButton(child)) {\n\t\t\tif (parent.navigationButton === child) {\n\t\t\t\tparent.navigationButton = null;\n\t\t\t}\n\n\t\t\tchild.parentNode = null;\n\t\t} else if (isActionItem(child)) {\n\t\t\tparent.actionItems.removeItem(child);\n\t\t\tchild.parentNode = null;\n\t\t} else if (isView(child) && parent.titleView && parent.titleView === child) {\n\t\t\tparent.titleView = null;\n\t\t}\n\t},\n};\n\nconst addActionItem = (bar: NgActionBar, item: ActionItem, next: ActionItem) => {\n\tif (next) {\n\t\tinsertActionItemBefore(bar, item, next);\n\t} else {\n\t\tappendActionItem(bar, item);\n\t}\n};\n\nconst insertActionItemBefore = (bar: NgActionBar, item: ActionItem, next: ActionItem) => {\n\tconst actionItems: ActionItems = bar.actionItems;\n\tconst actionItemsCollection: ActionItem[] = actionItems.getItems();\n\n\tconst indexToInsert = actionItemsCollection.indexOf(next);\n\tactionItemsCollection.splice(indexToInsert, 0, item);\n\n\t(<any>actionItems).setItems(actionItemsCollection);\n};\n\nconst appendActionItem = (bar: NgActionBar, item: ActionItem) => {\n\tbar.actionItems.addItem(item);\n};\n\nregisterElement('ActionBar', () => ActionBar, actionBarMeta);\nregisterElement('ActionItem', () => <any>ActionItem);\nregisterElement('NavigationButton', () => <any>NavigationButton);\n\n@Component({\n\tselector: 'ActionBar',\n\ttemplate: '<ng-content></ng-content>',\n})\nexport class ActionBarComponent {\n\tconstructor(public element: ElementRef, private page: Page) {\n\t\tif (!this.page) {\n\t\t\tthrow new Error('Inside ActionBarComponent but no Page found in DI.');\n\t\t}\n\n\t\tif (isBlank(this.page.actionBarHidden)) {\n\t\t\tthis.page.actionBarHidden = false;\n\t\t}\n\t\tthis.page.actionBar = this.element.nativeElement;\n\t\tthis.page.actionBar.update();\n\t}\n}\n\n@Component({\n\tselector: 'ActionBarExtension',\n\ttemplate: '',\n})\nexport class ActionBarScope {\n\t// tslint:disable-line:component-class-suffix\n\tconstructor(private page: Page) {\n\t\tif (!this.page) {\n\t\t\tthrow new Error('Inside ActionBarScope but no Page found in DI.');\n\t\t}\n\t}\n\n\tpublic onNavButtonInit(navBtn: NavigationButtonDirective) {\n\t\tthis.page.actionBar.navigationButton = navBtn.element.nativeElement;\n\t}\n\n\tpublic onNavButtonDestroy(navBtn: NavigationButtonDirective) {\n\t\tconst nav = <NavigationButton>navBtn.element.nativeElement;\n\t\tif (nav && this.page.actionBar.navigationButton === nav) {\n\t\t\tthis.page.actionBar.navigationButton = null;\n\t\t}\n\t}\n\n\tpublic onActionInit(item: ActionItemDirective) {\n\t\tthis.page.actionBar.actionItems.addItem(item.element.nativeElement);\n\t}\n\n\tpublic onActionDestroy(item: ActionItemDirective) {\n\t\tif (item.element.nativeElement.actionBar) {\n\t\t\tthis.page.actionBar.actionItems.removeItem(item.element.nativeElement);\n\t\t}\n\t}\n}\n\n@Directive({\n\tselector: 'ActionItem', // tslint:disable-line:directive-selector\n})\nexport class ActionItemDirective implements OnDestroy {\n\tconstructor(public element: ElementRef, @Optional() private ownerScope: ActionBarScope) {\n\t\tif (this.ownerScope) {\n\t\t\tthis.ownerScope.onActionInit(this);\n\t\t}\n\t}\n\n\tngOnDestroy() {\n\t\tif (this.ownerScope) {\n\t\t\tthis.ownerScope.onActionDestroy(this);\n\t\t}\n\t}\n}\n\n@Directive({\n\tselector: 'NavigationButton', // tslint:disable-line:directive-selector\n})\nexport class NavigationButtonDirective implements OnDestroy {\n\tconstructor(public element: ElementRef, @Optional() private ownerScope: ActionBarScope) {\n\t\tif (this.ownerScope) {\n\t\t\tthis.ownerScope.onNavButtonInit(this);\n\t\t}\n\t}\n\n\tngOnDestroy() {\n\t\tif (this.ownerScope) {\n\t\t\tthis.ownerScope.onNavButtonDestroy(this);\n\t\t}\n\t}\n}\n","import { Component, Inject } from '@angular/core';\nimport { isIOS, isAndroid } from '@nativescript/core';\n\n@Component({\n\tselector: 'android',\n\ttemplate: `<ng-content *ngIf=\"show\"></ng-content>`,\n})\nexport class AndroidFilterComponent {\n\tpublic show: boolean;\n\tconstructor() {\n\t\tthis.show = isAndroid;\n\t}\n}\n\n@Component({\n\tselector: 'ios',\n\ttemplate: `<ng-content *ngIf=\"show\"></ng-content>`,\n})\nexport class IosFilterComponent {\n\tpublic show: boolean;\n\tconstructor() {\n\t\tthis.show = isIOS;\n\t}\n}\n","import { ListViewComponent } from './list-view-comp';\nimport { TemplateKeyDirective, TemplatedItemsComponent, TEMPLATED_ITEMS_COMPONENT } from './templated-items-comp';\nimport { TabViewDirective, TabViewItemDirective } from './tab-view';\nimport { ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective } from './action-bar';\nimport { AndroidFilterComponent, IosFilterComponent } from './platform-filters';\nexport { ModalDialogOptions, ModalDialogParams, ModalDialogService } from './dialogs';\n\nexport const NS_DIRECTIVES = [ListViewComponent, TemplateKeyDirective, TabViewDirective, TabViewItemDirective, ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective, AndroidFilterComponent, IosFilterComponent];\n\nexport { ListViewComponent, TemplateKeyDirective, TemplatedItemsComponent, TabViewDirective, TabViewItemDirective, ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective, AndroidFilterComponent, IosFilterComponent, TEMPLATED_ITEMS_COMPONENT };\n","import { CommonModule } from '@angular/common';\nimport { NO_ERRORS_SCHEMA, NgModule } from '@angular/core';\n\nimport { ModalDialogService } from './directives/dialogs';\nimport { defaultDeviceProvider, defaultFrameProvider, defaultPageProvider } from './platform-providers';\nimport { ListViewComponent } from './directives/list-view-comp';\nimport { TemplateKeyDirective } from './directives/templated-items-comp';\nimport { TabViewDirective, TabViewItemDirective } from './directives/tab-view';\nimport { ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective } from './directives/action-bar';\nimport { AndroidFilterComponent, IosFilterComponent } from './directives/platform-filters';\n\n@NgModule({\n\tdeclarations: [ListViewComponent, TemplateKeyDirective, TabViewDirective, TabViewItemDirective, ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective, AndroidFilterComponent, IosFilterComponent],\n\tproviders: [ModalDialogService, defaultDeviceProvider, defaultFrameProvider, defaultPageProvider],\n\timports: [CommonModule],\n\texports: [CommonModule, ListViewComponent, TemplateKeyDirective, TabViewDirective, TabViewItemDirective, ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective, AndroidFilterComponent, IosFilterComponent],\n\tschemas: [NO_ERRORS_SCHEMA],\n})\nexport class NativeScriptCommonModule {}\n\nexport * from './directives';\n","import { View, unsetValue, Placeholder, ContentView, LayoutBase, platformNames, Device } from '@nativescript/core';\nimport { CommentNode, InvisibleNode, NgView, TextNode, ViewExtensions, getViewClass, getViewMeta, isDetachedElement, isInvisibleNode, isKnownView, isView } from './element-registry';\n\nimport { NativeScriptDebug } from './trace';\n\nconst ELEMENT_NODE_TYPE = 1;\nconst XML_ATTRIBUTES = Object.freeze(['style', 'rows', 'columns', 'fontAttributes']);\nconst whiteSpaceSplitter = /\\s+/;\n\n// export type ViewExtensions = ViewExtensions;\n// export type NgView = NgView;\nexport type NgLayoutBase = LayoutBase & ViewExtensions;\nexport type NgContentView = ContentView & ViewExtensions;\nexport type NgPlaceholder = Placeholder & ViewExtensions;\nexport type BeforeAttachAction = (view: View) => void;\n\nexport function isLayout(view: any): view is NgLayoutBase {\n\treturn view instanceof LayoutBase;\n}\n\nexport function isContentView(view: any): view is NgContentView {\n\treturn view instanceof ContentView;\n}\n\nconst propertyMaps: Map<Function, Map<string, string>> = new Map<Function, Map<string, string>>();\n\nexport class ViewUtil {\n\tprivate isIos: boolean;\n\tprivate isAndroid: boolean;\n\n\tconstructor(device: typeof Device) {\n\t\tthis.isIos = device.os === platformNames.ios;\n\t\tthis.isAndroid = device.os === platformNames.android;\n\t}\n\n\tpublic insertChild(parent: View, child: View, previous?: NgView, next?: NgView) {\n\t\tif (!parent) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst extendedParent = this.ensureNgViewExtensions(parent);\n\t\tconst extendedChild = this.ensureNgViewExtensions(child);\n\n\t\t// the element should be between previous and next\n\t\t// if there's next but no previous, it's the first element\n\t\t// if there's previous but no next, it's the last element\n\t\t// elements that have no previous/next elements must be appended\n\t\tif (!previous && !next) {\n\t\t\tprevious = extendedParent.lastChild;\n\t\t}\n\t\tthis.addToQueue(extendedParent, extendedChild, previous, next);\n\n\t\tif (isInvisibleNode(child)) {\n\t\t\textendedChild.parentNode = extendedParent;\n\t\t}\n\n\t\tif (!isDetachedElement(child)) {\n\t\t\tconst nextVisual = this.findNextVisual(next);\n\t\t\tthis.addToVisualTree(extendedParent, extendedChild, nextVisual);\n\t\t}\n\t}\n\n\tprivate addToQueue(parent: NgView, child: NgView, previous: NgView, next: NgView): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.viewUtilLog(`ViewUtil.addToQueue parent: ${parent}, view: ${child}, ` + `previous: ${previous}, next: ${next}`);\n\t\t}\n\n\t\tif (previous) {\n\t\t\tprevious.nextSibling = child;\n\t\t\tchild.previousSibling = previous;\n\t\t} else {\n\t\t\tparent.firstChild = child;\n\t\t}\n\n\t\tif (next) {\n\t\t\tchild.nextSibling = next;\n\t\t\tnext.previousSibling = child;\n\t\t} else {\n\t\t\tthis.appendToQueue(parent, child);\n\t\t}\n\t}\n\n\tprivate appendToQueue(parent: NgView, view: NgView) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.viewUtilLog(`ViewUtil.appendToQueue parent: ${parent} view: ${view}`);\n\t\t}\n\n\t\tif (parent.lastChild) {\n\t\t\tparent.lastChild.nextSibling = view;\n\t\t\tview.previousSibling = parent.lastChild;\n\t\t}\n\n\t\tparent.lastChild = view;\n\t}\n\n\tprivate addToVisualTree(parent: NgView, child: NgView, next: NgView): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.viewUtilLog(`ViewUtil.addToVisualTree parent: ${parent}, view: ${child}, next: ${next}`);\n\t\t}\n\n\t\tif (parent.meta && parent.meta.insertChild) {\n\t\t\tparent.meta.insertChild(parent, child, next);\n\t\t} else if (isLayout(parent)) {\n\t\t\tthis.insertToLayout(parent, child, next);\n\t\t} else if (isContentView(parent)) {\n\t\t\tparent.content = child;\n\t\t} else if (parent && (<any>parent)._addChildFromBuilder) {\n\t\t\t(<any>parent)._addChildFromBuilder(child.nodeName, child);\n\t\t}\n\t}\n\n\tprivate insertToLayout(parent: NgLayoutBase, child: NgView, next: NgView): void {\n\t\tif (child.parent === parent) {\n\t\t\tthis.removeLayoutChild(parent, child);\n\t\t}\n\n\t\tconst nextVisual = this.findNextVisual(next);\n\t\tif (nextVisual) {\n\t\t\tconst index = parent.getChildIndex(nextVisual);\n\t\t\tparent.insertChild(child, index);\n\t\t} else {\n\t\t\tparent.addChild(child);\n\t\t}\n\t}\n\n\tprivate findNextVisual(view: NgView): NgView {\n\t\tlet next = view;\n\t\twhile (next && isDetachedElement(next)) {\n\t\t\tnext = next.nextSibling;\n\t\t}\n\n\t\treturn next;\n\t}\n\n\tpublic removeChild(parent: View, child: View) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.viewUtilLog(`ViewUtil.removeChild parent: ${parent} child: ${child}`);\n\t\t}\n\n\t\tif (!parent) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst extendedParent = this.ensureNgViewExtensions(parent);\n\t\tconst extendedChild = this.ensureNgViewExtensions(child);\n\n\t\tthis.removeFromQueue(extendedParent, extendedChild);\n\t\tif (!isDetachedElement(extendedChild)) {\n\t\t\tthis.removeFromVisualTree(extendedParent, extendedChild);\n\t\t}\n\t}\n\n\tprivate removeFromQueue(parent: NgView, child: NgView) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.viewUtilLog(`ViewUtil.removeFromQueue parent: ${parent} child: ${child}`);\n\t\t}\n\n\t\tif (parent.firstChild === child && parent.lastChild === child) {\n\t\t\tparent.firstChild = null;\n\t\t\tparent.lastChild = null;\n\t\t\tchild.nextSibling = null;\n\t\t\tchild.previousSibling = null;\n\t\t\treturn;\n\t\t}\n\n\t\tif (parent.firstChild === child) {\n\t\t\tparent.firstChild = child.nextSibling;\n\t\t}\n\n\t\tconst previous = child.previousSibling;\n\t\tif (parent.lastChild === child) {\n\t\t\tparent.lastChild = previous;\n\t\t}\n\n\t\tif (previous) {\n\t\t\tprevious.nextSibling = child.nextSibling;\n\t\t\tif (child.nextSibling) {\n\t\t\t\tchild.nextSibling.previousSibling = previous;\n\t\t\t}\n\t\t}\n\n\t\tchild.nextSibling = null;\n\t\tchild.previousSibling = null;\n\t}\n\n\t// NOTE: This one is O(n) - use carefully\n\tprivate findPreviousElement(parent: NgView, child: NgView): NgView {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.viewUtilLog(`ViewUtil.findPreviousElement parent: ${parent} child: ${child}`);\n\t\t}\n\n\t\tlet previousVisual;\n\t\tif (isLayout(parent)) {\n\t\t\tpreviousVisual = this.getPreviousVisualElement(parent, child);\n\t\t}\n\n\t\tlet previous = previousVisual || parent.firstChild;\n\n\t\t// since detached elements are not added to the visual tree,\n\t\t// we need to find the actual previous sibling of the view,\n\t\t// which may as well be an invisible node\n\t\twhile (previous && previous !== child && previous.nextSibling !== child) {\n\t\t\tprevious = previous.nextSibling;\n\t\t}\n\n\t\treturn previous;\n\t}\n\n\tprivate getPreviousVisualElement(parent: NgLayoutBase, child: NgView): NgView {\n\t\tconst elementIndex = parent.getChildIndex(child);\n\n\t\tif (elementIndex > 0) {\n\t\t\treturn parent.getChildAt(elementIndex - 1) as NgView;\n\t\t}\n\t}\n\n\t// NOTE: This one is O(n) - use carefully\n\tpublic getChildIndex(parent: any, child: NgView) {\n\t\tif (isLayout(parent)) {\n\t\t\treturn parent.getChildIndex(child);\n\t\t} else if (isContentView(parent)) {\n\t\t\treturn child === parent.content ? 0 : -1;\n\t\t}\n\t}\n\n\tprivate removeFromVisualTree(parent: NgView, child: NgView) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.viewUtilLog(`ViewUtil.removeFromVisualTree parent: ${parent} child: ${child}`);\n\t\t}\n\n\t\tif (parent.meta && parent.meta.removeChild) {\n\t\t\tparent.meta.removeChild(parent, child);\n\t\t} else if (isLayout(parent)) {\n\t\t\tthis.removeLayoutChild(parent, child);\n\t\t} else if (isContentView(parent) && parent.content === child) {\n\t\t\tparent.content = null;\n\t\t} else if (isView(parent)) {\n\t\t\tparent._removeView(child);\n\t\t}\n\t}\n\n\tprivate removeLayoutChild(parent: NgLayoutBase, child: NgView): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.viewUtilLog(`ViewUtil.removeLayoutChild parent: ${parent} child: ${child}`);\n\t\t}\n\n\t\tconst index = parent.getChildIndex(child);\n\n\t\tif (index !== -1) {\n\t\t\tparent.removeChild(child);\n\t\t}\n\t}\n\n\tpublic createComment(): InvisibleNode {\n\t\treturn new CommentNode();\n\t}\n\n\tpublic createText(): InvisibleNode {\n\t\treturn new TextNode();\n\t}\n\n\tpublic createView(name: string): NgView {\n\t\tconst originalName = name;\n\t\tif (!isKnownView(name)) {\n\t\t\tname = 'ProxyViewContainer';\n\t\t}\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.viewUtilLog(`Creating view: ${originalName} ${name}`);\n\t\t}\n\n\t\tconst viewClass = getViewClass(name);\n\t\tconst view = <NgView>new viewClass();\n\t\tconst ngView = this.setNgViewExtensions(view, name);\n\n\t\treturn ngView;\n\t}\n\n\tprivate ensureNgViewExtensions(view: View): NgView {\n\t\tif (view.hasOwnProperty('meta')) {\n\t\t\treturn view as NgView;\n\t\t} else {\n\t\t\tconst name = view.cssType;\n\t\t\tconst ngView = this.setNgViewExtensions(view, name);\n\n\t\t\treturn ngView;\n\t\t}\n\t}\n\n\tprivate setNgViewExtensions(view: View, name: string): NgView {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.viewUtilLog(`Make into a NgView view: ${view} name: \"${name}\"`);\n\t\t}\n\n\t\tconst ngView = view as NgView;\n\t\tngView.nodeName = name;\n\t\tngView.meta = getViewMeta(name);\n\n\t\t// we're setting the node type of the view\n\t\t// to 'element' because of checks done in the\n\t\t// dom animation engine\n\t\tngView.nodeType = ELEMENT_NODE_TYPE;\n\n\t\treturn ngView;\n\t}\n\n\tpublic setProperty(view: NgView, attributeName: string, value: any, namespace?: string): void {\n\t\tif (!view || (namespace && !this.runsIn(namespace))) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (attributeName.indexOf('.') !== -1) {\n\t\t\t// Handle nested properties\n\t\t\tconst properties = attributeName.split('.');\n\t\t\tattributeName = properties[properties.length - 1];\n\n\t\t\tlet propMap = this.getProperties(view);\n\t\t\tlet i = 0;\n\t\t\twhile (i < properties.length - 1 && typeof view !== 'undefined') {\n\t\t\t\tlet prop = properties[i];\n\t\t\t\tif (propMap.has(prop)) {\n\t\t\t\t\tprop = propMap.get(prop);\n\t\t\t\t}\n\n\t\t\t\tview = view[prop];\n\t\t\t\tpropMap = this.getProperties(view);\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\n\t\tif (typeof view !== 'undefined') {\n\t\t\tthis.setPropertyInternal(view, attributeName, value);\n\t\t}\n\t}\n\n\tprivate runsIn(platform: string): boolean {\n\t\treturn (platform === 'ios' && this.isIos) || (platform === 'android' && this.isAndroid);\n\t}\n\n\tprivate setPropertyInternal(view: NgView, attributeName: string, value: any): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.viewUtilLog(`Setting attribute: ${attributeName}=${value} to ${view}`);\n\t\t}\n\n\t\tif (attributeName === 'class') {\n\t\t\tthis.setClasses(view, value);\n\t\t\treturn;\n\t\t}\n\n\t\tif (XML_ATTRIBUTES.indexOf(attributeName) !== -1) {\n\t\t\tview[attributeName] = value;\n\t\t\treturn;\n\t\t}\n\n\t\tconst propMap = this.getProperties(view);\n\t\tconst propertyName = propMap.get(attributeName);\n\n\t\t// Ensure the children of a collection currently have no parent set.\n\t\tif (Array.isArray(value)) {\n\t\t\tthis.removeParentReferencesFromItems(value);\n\t\t}\n\n\t\tif (propertyName) {\n\t\t\t// We have a lower-upper case mapped property.\n\t\t\tview[propertyName] = value;\n\t\t\treturn;\n\t\t}\n\n\t\t// Unknown attribute value -- just set it to our object as is.\n\t\tview[attributeName] = value;\n\t}\n\n\tprivate removeParentReferencesFromItems(items: any[]): void {\n\t\tfor (const item of items) {\n\t\t\tif (item.parent && item.parentNode) {\n\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\tNativeScriptDebug.viewUtilLog(`Unassigning parent ${item.parentNode} on value: ${item}`);\n\t\t\t\t}\n\t\t\t\titem.parent = undefined;\n\t\t\t\titem.parentNode = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getProperties(instance: any): Map<string, string> {\n\t\tconst type = instance && instance.constructor;\n\t\tif (!type) {\n\t\t\treturn new Map<string, string>();\n\t\t}\n\n\t\tif (!propertyMaps.has(type)) {\n\t\t\tlet propMap = new Map<string, string>();\n\t\t\tfor (let propName in instance) {\n\t\t\t\t// tslint:disable:forin\n\t\t\t\tpropMap.set(propName.toLowerCase(), propName);\n\t\t\t}\n\t\t\tpropertyMaps.set(type, propMap);\n\t\t}\n\n\t\treturn propertyMaps.get(type);\n\t}\n\n\tprivate cssClasses(view: NgView) {\n\t\tif (!view.ngCssClasses) {\n\t\t\tview.ngCssClasses = new Map<string, boolean>();\n\t\t}\n\t\treturn view.ngCssClasses;\n\t}\n\n\tpublic addClass(view: NgView, className: string): void {\n\t\tthis.cssClasses(view).set(className, true);\n\t\tthis.syncClasses(view);\n\t}\n\n\tpublic removeClass(view: NgView, className: string): void {\n\t\tthis.cssClasses(view).delete(className);\n\t\tthis.syncClasses(view);\n\t}\n\n\tprivate setClasses(view: NgView, classesValue: string): void {\n\t\tlet classes = classesValue.split(whiteSpaceSplitter);\n\t\tthis.cssClasses(view).clear();\n\t\tclasses.forEach((className) => this.cssClasses(view).set(className, true));\n\t\tthis.syncClasses(view);\n\t}\n\n\tprivate syncClasses(view: NgView): void {\n\t\tlet classValue = (<any>Array).from(this.cssClasses(view).keys()).join(' ');\n\t\tview.className = classValue;\n\t}\n\n\tpublic setStyle(view: NgView, styleName: string, value: any) {\n\t\tview.style[styleName] = value;\n\t}\n\n\tpublic removeStyle(view: NgView, styleName: string) {\n\t\tview.style[styleName] = unsetValue;\n\t}\n}\n","import { Inject, Injectable, Optional, NgZone, Renderer2, RendererFactory2, RendererType2, RendererStyleFlags2, ViewEncapsulation } from '@angular/core';\n\nimport { View, getViewById, profile } from '@nativescript/core';\n\nimport { ViewUtil } from './view-util';\nimport { NgView, InvisibleNode } from './element-registry';\nimport { NativeScriptDebug } from './trace';\n\n@Injectable()\nexport class NativeScriptRenderer extends Renderer2 {\n\tdata: { [key: string]: any } = Object.create(null);\n\n\tconstructor(private rootView: NgView, private zone: NgZone, private viewUtil: ViewUtil) {\n\t\tsuper();\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog('NativeScriptRenderer created');\n\t\t}\n\t}\n\n\t@profile\n\tappendChild(parent: NgView, newChild: NgView): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.appendChild child: ${newChild} parent: ${parent}`);\n\t\t}\n\t\tthis.viewUtil.insertChild(parent, newChild);\n\t}\n\n\t@profile\n\tinsertBefore(parent: NgView, newChild: NgView, refChild: NgView): void {\n\t\tlet { previous, next } = refChild instanceof View ? { previous: refChild.previousSibling, next: refChild } : { previous: null, next: null };\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.insertBefore child: ${newChild} ` + `parent: ${parent} previous: ${previous} next: ${next}`);\n\t\t}\n\t\tthis.viewUtil.insertChild(parent, newChild, previous, next);\n\t}\n\n\t@profile\n\tremoveChild(parent: any, oldChild: NgView): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.removeChild child: ${oldChild} parent: ${parent}`);\n\t\t}\n\t\tthis.viewUtil.removeChild(parent, oldChild);\n\t}\n\n\t@profile\n\tselectRootElement(selector: string): NgView {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.selectRootElement: ${selector}`);\n\t\t}\n\t\tif (selector && selector[0] === '#') {\n\t\t\tconst result = getViewById(this.rootView, selector.slice(1));\n\t\t\treturn (result || this.rootView) as NgView;\n\t\t}\n\t\treturn this.rootView;\n\t}\n\n\t@profile\n\tparentNode(node: NgView): any {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.parentNode for node: ${node} is ${node.parentNode}`);\n\t\t}\n\t\treturn node.parentNode;\n\t}\n\n\t@profile\n\tnextSibling(node: NgView): NgView {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.nextSibling of ${node} is ${node.nextSibling}`);\n\t\t}\n\n\t\treturn node.nextSibling;\n\t}\n\n\t@profile\n\tcreateComment(_value: any): InvisibleNode {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.createComment ${_value}`);\n\t\t}\n\t\treturn this.viewUtil.createComment();\n\t}\n\n\t@profile\n\tcreateElement(name: any, _namespace: string): NgView {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.createElement: ${name}`);\n\t\t}\n\t\treturn this.viewUtil.createView(name);\n\t}\n\n\t@profile\n\tcreateText(_value: string): InvisibleNode {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.createText ${_value}`);\n\t\t}\n\t\treturn this.viewUtil.createText();\n\t}\n\n\t@profile\n\tcreateViewRoot(hostElement: NgView): NgView {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.createViewRoot ${hostElement.nodeName}`);\n\t\t}\n\t\treturn hostElement;\n\t}\n\n\t@profile\n\tprojectNodes(parentElement: NgView, nodes: NgView[]): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog('NativeScriptRenderer.projectNodes');\n\t\t}\n\t\tnodes.forEach((node) => this.viewUtil.insertChild(parentElement, node));\n\t}\n\n\t@profile\n\tdestroy() {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog('NativeScriptRenderer.destroy');\n\t\t}\n\t\t// Seems to be called on component dispose only (router outlet)\n\t\t// TODO: handle this when we resolve routing and navigation.\n\t}\n\n\t@profile\n\tsetAttribute(view: NgView, name: string, value: string, namespace?: string) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.setAttribute ${view} : ${name} = ${value}, namespace: ${namespace}`);\n\t\t}\n\t\treturn this.viewUtil.setProperty(view, name, value, namespace);\n\t}\n\n\t@profile\n\tremoveAttribute(_el: NgView, _name: string): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.removeAttribute ${_el}: ${_name}`);\n\t\t}\n\t}\n\n\t@profile\n\tsetProperty(view: any, name: string, value: any) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.setProperty ${view} : ${name} = ${value}`);\n\t\t}\n\t\treturn this.viewUtil.setProperty(view, name, value);\n\t}\n\n\t@profile\n\taddClass(view: NgView, name: string): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.addClass ${name}`);\n\t\t}\n\t\tthis.viewUtil.addClass(view, name);\n\t}\n\n\t@profile\n\tremoveClass(view: NgView, name: string): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.removeClass ${name}`);\n\t\t}\n\t\tthis.viewUtil.removeClass(view, name);\n\t}\n\n\t@profile\n\tsetStyle(view: NgView, styleName: string, value: any, _flags?: RendererStyleFlags2): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.setStyle: ${styleName} = ${value}`);\n\t\t}\n\t\tthis.viewUtil.setStyle(view, styleName, value);\n\t}\n\n\t@profile\n\tremoveStyle(view: NgView, styleName: string, _flags?: RendererStyleFlags2): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog('NativeScriptRenderer.removeStyle: ${styleName}');\n\t\t}\n\t\tthis.viewUtil.removeStyle(view, styleName);\n\t}\n\n\t// Used only in debug mode to serialize property changes to comment nodes,\n\t// such as <template> placeholders.\n\t@profile\n\tsetBindingDebugInfo(renderElement: NgView, propertyName: string, propertyValue: string): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.setBindingDebugInfo: ${renderElement}, ${propertyName} = ${propertyValue}`);\n\t\t}\n\t}\n\n\t@profile\n\tsetElementDebugInfo(renderElement: any, _info: any /*RenderDebugInfo*/): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.setElementDebugInfo: ${renderElement}`);\n\t\t}\n\t}\n\n\t@profile\n\tinvokeElementMethod(_renderElement: NgView, methodName: string, args: Array<any>) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.invokeElementMethod ${methodName} ${args}`);\n\t\t}\n\t}\n\n\t@profile\n\tsetValue(_renderNode: any, _value: string) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.setValue renderNode: ${_renderNode}, value: ${_value}`);\n\t\t}\n\t}\n\n\t@profile\n\tlisten(renderElement: any, eventName: string, callback: (event: any) => boolean): () => void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRenderer.listen: ${eventName}`);\n\t\t}\n\t\t// Explicitly wrap in zone\n\t\tlet zonedCallback = (...args) => {\n\t\t\tthis.zone.run(() => {\n\t\t\t\tcallback.apply(undefined, args);\n\t\t\t});\n\t\t};\n\n\t\trenderElement.on(eventName, zonedCallback);\n\t\tif (eventName === View.loadedEvent && renderElement.isLoaded) {\n\t\t\tconst notifyData = { eventName: View.loadedEvent, object: renderElement };\n\t\t\tzonedCallback(notifyData);\n\t\t}\n\t\treturn () => renderElement.off(eventName, zonedCallback);\n\t}\n}\n","import { Inject, Injectable, RendererFactory2, Optional, NgZone, RendererType2 } from '@angular/core';\nimport { View, getViewById, Application, profile } from '@nativescript/core';\nimport { APP_ROOT_VIEW, getRootPage } from './platform-providers';\nimport { ViewUtil } from './view-util';\nimport { NgView, InvisibleNode } from './element-registry';\nimport { NativeScriptDebug } from './trace';\nimport { NativeScriptRenderer } from './renderer';\n\n// CONTENT_ATTR not exported from NativeScript_renderer - we need it for styles application.\nconst COMPONENT_REGEX = /%COMP%/g;\nconst ATTR_SANITIZER = /-/g;\nexport const COMPONENT_VARIABLE = '%COMP%';\nexport const HOST_ATTR = `_nghost-${COMPONENT_VARIABLE}`;\nexport const CONTENT_ATTR = `_ngcontent-${COMPONENT_VARIABLE}`;\n\nconst replaceNgAttribute = function (input: string, componentId: string): string {\n\treturn input.replace(COMPONENT_REGEX, componentId);\n};\n\nconst addScopedStyleToCss = profile(`\"renderer\".addScopedStyleToCss`, function addScopedStyleToCss(style: string): void {\n\tApplication.addCss(style, true);\n});\n\n@Injectable()\nexport class EmulatedRenderer extends NativeScriptRenderer {\n\tprivate contentAttr: string;\n\tprivate hostAttr: string;\n\n\tconstructor(component: RendererType2, rootView: NgView, zone: NgZone, viewUtil: ViewUtil) {\n\t\tsuper(rootView, zone, viewUtil);\n\n\t\tconst componentId = component.id.replace(ATTR_SANITIZER, '_');\n\t\tthis.contentAttr = replaceNgAttribute(CONTENT_ATTR, componentId);\n\t\tthis.hostAttr = replaceNgAttribute(HOST_ATTR, componentId);\n\t\tthis.addStyles(component.styles, componentId);\n\t}\n\n\tapplyToHost(view: NgView) {\n\t\tsuper.setAttribute(view, this.hostAttr, '');\n\t}\n\n\tappendChild(parent: any, newChild: NgView): void {\n\t\tsuper.appendChild(parent, newChild);\n\t}\n\n\tcreateElement(parent: any, name: string): NgView {\n\t\tconst view = super.createElement(parent, name);\n\n\t\t// Set an attribute to the view to scope component-specific css.\n\t\t// The property name is pre-generated by Angular.\n\t\tsuper.setAttribute(view, this.contentAttr, '');\n\n\t\treturn view;\n\t}\n\n\t@profile\n\tprivate addStyles(styles: (string | any[])[], componentId: string) {\n\t\tstyles\n\t\t\t.map((s) => s.toString())\n\t\t\t.map((s) => replaceNgAttribute(s, componentId))\n\t\t\t.forEach(addScopedStyleToCss);\n\t}\n}\n","import { Inject, Injectable, RendererFactory2, Optional, NgZone, RendererType2, ViewEncapsulation } from '@angular/core';\nimport { View, getViewById, Application, profile, Device } from '@nativescript/core';\nimport { APP_ROOT_VIEW, getRootPage } from './platform-providers';\nimport { ViewUtil } from './view-util';\nimport { NgView, InvisibleNode } from './element-registry';\nimport { NativeScriptDebug } from './trace';\nimport { NativeScriptRenderer } from './renderer';\nimport { EmulatedRenderer } from './renderer-emulated';\n\nconst addStyleToCss = profile('\"renderer\".addStyleToCss', function addStyleToCss(style: string): void {\n\tApplication.addCss(style);\n});\n\n@Injectable()\nexport class NativeScriptRendererFactory implements RendererFactory2 {\n\tcomponentRenderers = new Map<string, NativeScriptRenderer>();\n\tviewUtil: ViewUtil;\n\tdefaultRenderer: NativeScriptRenderer;\n\trootNgView: NgView;\n\n\tconstructor(@Optional() @Inject(APP_ROOT_VIEW) rootView: View, private zone: NgZone) {\n\t\tthis.viewUtil = new ViewUtil(Device);\n\t\tthis.setRootNgView(rootView);\n\t\tthis.defaultRenderer = new NativeScriptRenderer(this.rootNgView, zone, this.viewUtil);\n\t}\n\n\tprivate setRootNgView(rootView: any) {\n\t\tif (!rootView) {\n\t\t\trootView = getRootPage();\n\t\t}\n\n\t\trootView.nodeName = 'NONE';\n\t\tthis.rootNgView = rootView;\n\t}\n\n\tcreateRenderer(element: any, type: RendererType2): NativeScriptRenderer {\n\t\tif (!element || !type) {\n\t\t\treturn this.defaultRenderer;\n\t\t}\n\n\t\tlet renderer = this.componentRenderers.get(type.id);\n\t\tif (renderer) {\n\t\t\tif (renderer instanceof EmulatedRenderer) {\n\t\t\t\trenderer.applyToHost(element);\n\t\t\t}\n\n\t\t\treturn renderer;\n\t\t}\n\n\t\tif (type.encapsulation === ViewEncapsulation.None) {\n\t\t\ttype.styles.map((s) => s.toString()).forEach(addStyleToCss);\n\t\t\trenderer = this.defaultRenderer;\n\t\t} else {\n\t\t\trenderer = new EmulatedRenderer(type, this.rootNgView, this.zone, this.viewUtil);\n\t\t\t(<EmulatedRenderer>renderer).applyToHost(element);\n\t\t}\n\n\t\tthis.componentRenderers.set(type.id, renderer);\n\t\treturn renderer;\n\t}\n\n\tngOnDestroy(): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.rendererLog(`NativeScriptRendererFactory.ngOnDestroy()`);\n\t\t}\n\n\t\twhile (this.rootNgView && this.rootNgView.firstChild) {\n\t\t\tthis.viewUtil.removeChild(this.rootNgView, this.rootNgView.firstChild);\n\t\t}\n\t}\n}\n","import { ApplicationModule, ErrorHandler, NO_ERRORS_SCHEMA, NgModule, RendererFactory2, SystemJsNgModuleLoader, Optional, SkipSelf, INJECTOR_SCOPE } from '@angular/core';\n\nimport { ViewportScroller, NullViewportScroller as NullViewportScroller } from '@angular/common';\n\nimport { NativeScriptCommonModule } from './common';\nimport { NativeScriptRendererFactory } from './renderer-factory';\nimport { DetachedLoader } from './common/detached-loader';\nimport { throwIfAlreadyLoaded } from './common/utils';\nimport { FrameService } from './frame.service';\n\nexport function errorHandlerFactory() {\n\treturn new ErrorHandler();\n}\n\nexport { DetachedLoader } from './common/detached-loader';\n\n@NgModule({\n\tdeclarations: [DetachedLoader],\n\tproviders: [FrameService, NativeScriptRendererFactory, SystemJsNgModuleLoader, { provide: INJECTOR_SCOPE, useValue: 'root' }, { provide: ErrorHandler, useFactory: errorHandlerFactory }, { provide: RendererFactory2, useExisting: NativeScriptRendererFactory }, { provide: ViewportScroller, useClass: NullViewportScroller }],\n\tentryComponents: [DetachedLoader],\n\timports: [ApplicationModule, NativeScriptCommonModule],\n\texports: [ApplicationModule, NativeScriptCommonModule, DetachedLoader],\n\tschemas: [NO_ERRORS_SCHEMA],\n})\nexport class NativeScriptModule {\n\tconstructor(@Optional() @SkipSelf() parentModule: NativeScriptModule) {\n\t\t// Prevents NativeScriptModule from getting imported multiple times\n\t\tthrowIfAlreadyLoaded(parentModule, 'NativeScriptModule');\n\t}\n}\n","import { KeyframeAnimation, KeyframeAnimationInfo, KeyframeDeclaration, KeyframeInfo, parseKeyframeDeclarations, animationTimingFunctionConverter } from '@nativescript/core';\n\nexport interface Keyframe {\n\t[key: string]: string | number;\n\toffset: number;\n}\n\nconst DASH_CASE_REGEXP = /-+([a-z0-9])/g;\nexport function dashCaseToCamelCase(input: string): string {\n\treturn input.replace(DASH_CASE_REGEXP, (...m: any[]) => m[1].toUpperCase());\n}\n\nexport function createKeyframeAnimation(styles: Keyframe[], duration: number, delay: number, easing: string): KeyframeAnimation {\n\tconst info = createKeyframeAnimationInfo(styles, duration, delay, easing);\n\treturn KeyframeAnimation.keyframeAnimationFromInfo(info);\n}\n\nconst createKeyframeAnimationInfo = (styles: Keyframe[], duration: number, delay: number, easing: string): KeyframeAnimationInfo => ({\n\tisForwards: true,\n\tduration: duration || 0.01,\n\tdelay,\n\tcurve: getCurve(easing),\n\tkeyframes: styles.map(parseAnimationKeyframe),\n});\n\nconst getCurve = (value: string) => animationTimingFunctionConverter(value);\n\nconst parseAnimationKeyframe = (styles: Keyframe): KeyframeInfo => ({\n\tduration: getKeyframeDuration(styles),\n\tdeclarations: getDeclarations(styles),\n});\n\nconst getKeyframeDuration = (styles: Keyframe): number => styles.offset;\n\nfunction getDeclarations(styles: Keyframe): KeyframeDeclaration[] {\n\tconst unparsedDeclarations: KeyframeDeclaration[] = Object.keys(styles).map((property) => ({ property, value: styles[property] }));\n\n\treturn parseKeyframeDeclarations(unparsedDeclarations);\n}\n","import { AnimationPlayer } from '@angular/animations';\nimport { View, EventData, KeyframeAnimation } from '@nativescript/core';\n\nimport { Keyframe, createKeyframeAnimation } from './utils';\nimport { NgView } from '../element-registry';\nimport { NativeScriptDebug } from '../trace';\n\nexport class NativeScriptAnimationPlayer implements AnimationPlayer {\n\tpublic parentPlayer: AnimationPlayer = null;\n\n\tprivate _startSubscriptions: Function[] = [];\n\tprivate _doneSubscriptions: Function[] = [];\n\tprivate _finished = false;\n\tprivate _started = false;\n\tprivate animation: KeyframeAnimation;\n\n\tconstructor(private target: NgView, keyframes: Keyframe[], private duration: number, private delay: number, easing: string) {\n\t\tthis.initKeyframeAnimation(keyframes, duration, delay, easing);\n\t}\n\n\tget totalTime(): number {\n\t\treturn this.delay + this.duration;\n\t}\n\n\tinit(): void {}\n\n\thasStarted(): boolean {\n\t\treturn this._started;\n\t}\n\n\tonStart(fn: Function): void {\n\t\tthis._startSubscriptions.push(fn);\n\t}\n\tonDone(fn: Function): void {\n\t\tthis._doneSubscriptions.push(fn);\n\t}\n\tonDestroy(fn: Function): void {\n\t\tthis._doneSubscriptions.push(fn);\n\t}\n\n\tplay(): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.play`);\n\t\t}\n\n\t\tif (!this.animation) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._started) {\n\t\t\tthis._started = true;\n\t\t\tthis._startSubscriptions.forEach((fn) => fn());\n\t\t\tthis._startSubscriptions = [];\n\t\t}\n\n\t\t// When this issue https://github.com/NativeScript/NativeScript/issues/7984 is fixes in @nativescript/core\n\t\t// we can change this fix and apply the one that is recommended in that issue.\n\t\tif (this.target.isLoaded) {\n\t\t\tthis.playAnimation();\n\t\t} else {\n\t\t\tthis.target.on(View.loadedEvent, this.onTargetLoaded.bind(this));\n\t\t}\n\t}\n\n\tprivate onTargetLoaded(args: EventData) {\n\t\tthis.target.off(View.loadedEvent, this.onTargetLoaded);\n\t\tthis.playAnimation();\n\t}\n\n\tprivate playAnimation() {\n\t\tthis.animation\n\t\t\t.play(this.target)\n\t\t\t.then(() => this.onFinish())\n\t\t\t.catch((_e) => {});\n\t}\n\n\tpause(): void {}\n\n\tfinish(): void {\n\t\tthis.onFinish();\n\t}\n\n\treset(): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.reset`);\n\t\t}\n\n\t\tif (this.animation && this.animation.isPlaying) {\n\t\t\tthis.animation.cancel();\n\t\t}\n\t}\n\n\trestart(): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.restart`);\n\t\t}\n\n\t\tthis.reset();\n\t\tthis.play();\n\t}\n\n\tdestroy(): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.destroy`);\n\t\t}\n\t\tthis.onFinish();\n\t}\n\n\tsetPosition(_p: any): void {\n\t\tthrow new Error('AnimationPlayer.setPosition method is not supported!');\n\t}\n\n\tgetPosition(): number {\n\t\treturn 0;\n\t}\n\n\tprivate initKeyframeAnimation(keyframes: Keyframe[], duration: number, delay: number, easing: string) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.initKeyframeAnimation`);\n\t\t}\n\n\t\tthis.animation = createKeyframeAnimation(keyframes, duration, delay, easing);\n\t}\n\n\tprivate onFinish() {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.onFinish`);\n\t\t}\n\n\t\tif (this._finished) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._finished = true;\n\t\tthis._started = false;\n\t\tthis._doneSubscriptions.forEach((fn) => fn());\n\t\tthis._doneSubscriptions = [];\n\t}\n}\n","import { AnimationPlayer } from '@angular/animations';\nimport { AnimationDriver } from '@angular/animations/browser';\nimport { ProxyViewContainer, eachDescendant, CssAnimationProperty, CSSHelper } from '@nativescript/core';\n\nimport { NativeScriptAnimationPlayer } from './animation-player';\nimport { Keyframe, dashCaseToCamelCase } from './utils';\nimport { NgView, InvisibleNode } from '../element-registry';\nimport { NativeScriptDebug } from '../trace';\n\ninterface ViewMatchResult {\n\tfound: boolean;\n}\n\ninterface ViewMatchParams {\n\toriginalView: NgView;\n}\n\ninterface QueryParams {\n\tselector: Selector;\n\tmulti: boolean;\n}\n\ninterface QueryResult {\n\tmatches: NgView[];\n}\n\nclass Selector {\n\tprivate nsSelectors: Array<any>;\n\tprivate classSelectors: string[];\n\n\tconstructor(rawSelector: string) {\n\t\tthis.parse(rawSelector);\n\t}\n\n\tmatch(element: NgView): boolean {\n\t\treturn this.nsSelectorMatch(element) || this.classSelectorsMatch(element);\n\t}\n\n\tprivate parse(rawSelector: string) {\n\t\tconst selectors = rawSelector.split(',').map((s) => s.trim());\n\n\t\tthis.nsSelectors = selectors.map(CSSHelper.createSelector);\n\t\tthis.classSelectors = selectors.filter((s) => s.startsWith('.')).map((s) => s.substring(1));\n\t}\n\n\tprivate nsSelectorMatch(element: NgView) {\n\t\treturn this.nsSelectors.some((s) => s.match(element));\n\t}\n\n\tprivate classSelectorsMatch(element: NgView) {\n\t\treturn this.classSelectors.some((s) => this.hasClass(element, s));\n\t}\n\n\t// we're using that instead of match for classes\n\t// that are dynamically added by the animation engine\n\t// such as .ng-trigger, that's added for every :enter view\n\tprivate hasClass(element: NgView, cls: string) {\n\t\treturn element && element['$$classes'] && element['$$classes'][cls];\n\t}\n}\n\nexport class NativeScriptAnimationDriver implements AnimationDriver {\n\tprivate static validProperties = [...CssAnimationProperty._getPropertyNames(), 'transform'];\n\n\tvalidateStyleProperty(property: string): boolean {\n\t\tNativeScriptDebug.animationsLog(`CssAnimationProperty.validateStyleProperty: ${property}`);\n\t\treturn NativeScriptAnimationDriver.validProperties.indexOf(property) !== -1;\n\t}\n\n\tmatchesElement(element: NgView, rawSelector: string): boolean {\n\t\tNativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.matchesElement ` + `element: ${element}, selector: ${rawSelector}`);\n\n\t\tconst selector = this.makeSelector(rawSelector);\n\t\treturn selector.match(element);\n\t}\n\n\tcontainsElement(elm1: NgView, elm2: NgView): boolean {\n\t\tNativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.containsElement ` + `element1: ${elm1}, element2: ${elm2}`);\n\n\t\t// Checking if the parent is our fake body object\n\t\tif (elm1['isOverride']) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst params: ViewMatchParams = { originalView: elm2 };\n\t\tconst result: ViewMatchResult = this.visitDescendants(elm1, viewMatches, params);\n\n\t\treturn result.found;\n\t}\n\n\tquery(element: NgView, rawSelector: string, multi: boolean): NgView[] {\n\t\tNativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.query ` + `element: ${element}, selector: ${rawSelector} ` + `multi: ${multi}`);\n\n\t\tconst selector = this.makeSelector(rawSelector);\n\t\tconst params: QueryParams = { selector, multi };\n\t\tconst result: QueryResult = this.visitDescendants(element, queryDescendants, params);\n\n\t\treturn result.matches || [];\n\t}\n\n\tcomputeStyle(element: NgView, prop: string): string {\n\t\tNativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.computeStyle ` + `element: ${element}, prop: ${prop}`);\n\n\t\tconst camelCaseProp = dashCaseToCamelCase(prop);\n\t\treturn element.style[camelCaseProp];\n\t}\n\n\tanimate(element: NgView, keyframes: Keyframe[], duration: number, delay: number, easing: string): AnimationPlayer {\n\t\tNativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.animate ` + `element: ${element}, keyframes: ${keyframes} ` + `duration: ${duration}, delay: ${delay} ` + `easing: ${easing}`);\n\n\t\treturn new NativeScriptAnimationPlayer(element, keyframes, duration, delay, easing);\n\t}\n\n\tprivate makeSelector(rawSelector: string): Selector {\n\t\treturn new Selector(rawSelector);\n\t}\n\n\tprivate visitDescendants(element: NgView, cb: (child: NgView, result: any, params: any) => boolean, cbParams: any): any {\n\t\tconst result = {};\n\t\t// fill the result obj with the result from the callback function\n\t\teachDescendant(element, (child: NgView) => cb(child, result, cbParams));\n\n\t\treturn result;\n\t}\n}\n\nfunction viewMatches(element: NgView, result: ViewMatchResult, params: ViewMatchParams): boolean {\n\tif (element === params.originalView) {\n\t\tresult.found = true;\n\t}\n\n\treturn !result.found;\n}\n\nfunction queryDescendants(element: NgView, result: QueryResult, params: QueryParams): boolean {\n\tif (!result.matches) {\n\t\tresult.matches = [];\n\t}\n\n\tconst { selector, multi } = params;\n\n\t// skip comment and text nodes\n\t// because they are not actual Views\n\t// and cannot be animated\n\tif (element instanceof InvisibleNode || !selector.match(element)) {\n\t\treturn true;\n\t}\n\n\tif (element instanceof ProxyViewContainer) {\n\t\telement.eachChild((child: NgView) => {\n\t\t\tresult.matches.push(child);\n\t\t\treturn true;\n\t\t});\n\t} else {\n\t\tresult.matches.push(element);\n\t}\n\n\treturn multi;\n}\n","import { NgModule, Injectable, Inject, NgZone, RendererFactory2, Optional, SkipSelf } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { AnimationBuilder } from '@angular/animations';\n\nimport { AnimationDriver, AnimationStyleNormalizer as AnimationStyleNormalizer, WebAnimationsStyleNormalizer as WebAnimationsStyleNormalizer, AnimationEngine as AnimationEngine } from '@angular/animations/browser';\n\nimport { AnimationRendererFactory as AnimationRendererFactory, BrowserAnimationBuilder as BrowserAnimationBuilder } from '@angular/platform-browser/animations';\n\n// import { NativeScriptModule } from \"../nativescript.module\";\nimport { NativeScriptRendererFactory } from '../renderer-factory';\nimport { NativeScriptAnimationDriver } from './animation-driver';\nimport { throwIfAlreadyLoaded } from '../common/utils';\nimport { NativeScriptCommonModule } from '../common';\n\n@Injectable()\nexport class InjectableAnimationEngine extends AnimationEngine {\n\tconstructor(@Inject(DOCUMENT) doc: any, driver: AnimationDriver, normalizer: AnimationStyleNormalizer) {\n\t\tsuper(doc.body, driver, normalizer);\n\t}\n}\n\nexport function instantiateSupportedAnimationDriver() {\n\treturn new NativeScriptAnimationDriver();\n}\n\nexport function instantiateRendererFactory(renderer: NativeScriptRendererFactory, engine: AnimationEngine, zone: NgZone) {\n\treturn new AnimationRendererFactory(renderer, engine, zone);\n}\n\nexport function instantiateDefaultStyleNormalizer() {\n\treturn new WebAnimationsStyleNormalizer();\n}\n\n@NgModule({\n\timports: [NativeScriptCommonModule],\n\tproviders: [\n\t\t{\n\t\t\tprovide: AnimationDriver,\n\t\t\tuseFactory: instantiateSupportedAnimationDriver,\n\t\t},\n\t\t{ provide: AnimationBuilder, useClass: BrowserAnimationBuilder },\n\t\t{\n\t\t\tprovide: AnimationStyleNormalizer,\n\t\t\tuseFactory: instantiateDefaultStyleNormalizer,\n\t\t},\n\t\t{ provide: AnimationEngine, useClass: InjectableAnimationEngine },\n\t\t{\n\t\t\tprovide: RendererFactory2,\n\t\t\tuseFactory: instantiateRendererFactory,\n\t\t\tdeps: [NativeScriptRendererFactory, AnimationEngine, NgZone],\n\t\t},\n\t],\n})\nexport class NativeScriptAnimationsModule {\n\tconstructor(@Optional() @SkipSelf() parentModule: NativeScriptAnimationsModule) {\n\t\t// Prevents NativeScriptAnimationsModule from getting imported multiple times\n\t\tthrowIfAlreadyLoaded(parentModule, 'NativeScriptAnimationsModule');\n\t}\n}\n","import { NSFileSystem } from '../file-system/ns-file-system';\n\nimport { Observable, Observer } from 'rxjs';\nimport { path } from '@nativescript/core';\n\nexport type httpResponseFactory<T> = (url: string, body: any, status: number) => T;\nexport type httpErrorFactory = (url: string, body: any, status: number) => any;\n\nexport function isLocalRequest(url: string): boolean {\n\treturn url.indexOf('~') === 0 || url.indexOf('/') === 0;\n}\n\nexport function getAbsolutePath(url: string, nsFileSystem: NSFileSystem): string {\n\turl = url.replace('~', '').replace('/', '');\n\turl = path.join(nsFileSystem.currentApp().path, url);\n\treturn url;\n}\n\nexport function processLocalFileRequest<T>(url: string, nsFileSystem: NSFileSystem, successResponse: httpResponseFactory<T>, errorResponse: httpErrorFactory): Observable<T> {\n\turl = getAbsolutePath(url, nsFileSystem);\n\n\t// request from local app resources\n\treturn new Observable((observer: Observer<T>) => {\n\t\tif (nsFileSystem.fileExists(url)) {\n\t\t\tconst localFile = nsFileSystem.fileFromPath(url);\n\t\t\tlocalFile.readText().then(\n\t\t\t\t(data) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst json = JSON.parse(data);\n\t\t\t\t\t\tobserver.next(successResponse(url, json, 200));\n\t\t\t\t\t\tobserver.complete();\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t// Even though the response status was 2xx, this is still an error.\n\t\t\t\t\t\t// The parse error contains the text of the body that failed to parse.\n\t\t\t\t\t\tconst errorResult = { error, text: data };\n\t\t\t\t\t\tobserver.error(errorResponse(url, errorResult, 200));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t(err: Object) => {\n\t\t\t\t\tobserver.error(errorResponse(url, err, 400));\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tobserver.error(errorResponse(url, 'Not Found', 404));\n\t\t}\n\t});\n}\n","import { Injectable } from '@angular/core';\nimport { HttpRequest, HttpEvent, XhrFactory, HttpResponse, HttpErrorResponse, HttpXhrBackend } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nimport { NSFileSystem } from '../file-system/ns-file-system';\nimport { isLocalRequest, processLocalFileRequest } from './http-utils';\n\n@Injectable()\nexport class NsHttpBackEnd extends HttpXhrBackend {\n\tconstructor(xhrFactory: XhrFactory, private nsFileSystem: NSFileSystem) {\n\t\tsuper(xhrFactory);\n\t}\n\n\thandle(req: HttpRequest<any>): Observable<HttpEvent<any>> {\n\t\tlet result: Observable<HttpEvent<any>>;\n\n\t\tif (isLocalRequest(req.url)) {\n\t\t\tresult = this.handleLocalFileRequest(req.url);\n\t\t} else {\n\t\t\tresult = super.handle(req);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate handleLocalFileRequest(url: string): Observable<HttpEvent<any>> {\n\t\treturn processLocalFileRequest(url, this.nsFileSystem, createSuccessResponse, createErrorResponse);\n\t}\n}\n\nfunction createSuccessResponse(url: string, body: any, status: number): HttpEvent<any> {\n\treturn new HttpResponse({\n\t\turl,\n\t\tbody,\n\t\tstatus,\n\t\tstatusText: 'OK',\n\t});\n}\n\nfunction createErrorResponse(url: string, body: any, status: number): HttpErrorResponse {\n\treturn new HttpErrorResponse({\n\t\turl,\n\t\terror: body,\n\t\tstatus,\n\t\tstatusText: 'ERROR',\n\t});\n}\n","import { NgModule } from '@angular/core';\n\nimport { HttpClientModule, HttpBackend } from '@angular/common/http';\n\nimport { NSFileSystem } from '../file-system/ns-file-system';\nimport { NsHttpBackEnd } from './ns-http-backend';\n\n@NgModule({\n\tproviders: [NSFileSystem, NsHttpBackEnd, { provide: HttpBackend, useExisting: NsHttpBackEnd }],\n\timports: [HttpClientModule],\n\texports: [HttpClientModule],\n})\nexport class NativeScriptHttpClientModule {}\n","import { ControlValueAccessor } from '@angular/forms';\nimport { View, unsetValue } from '@nativescript/core';\n\nimport { isBlank } from '../../lang-facade';\n\nexport class BaseValueAccessor<TView extends View> implements ControlValueAccessor {\n\tprivate pendingChangeNotification: any = 0;\n\tonChange = (_) => {};\n\tonTouched = () => {};\n\n\tconstructor(public view: TView) {}\n\n\tregisterOnChange(fn: (_: any) => void): void {\n\t\tthis.onChange = (arg) => {\n\t\t\tif (this.pendingChangeNotification) {\n\t\t\t\tclearTimeout(this.pendingChangeNotification);\n\t\t\t}\n\t\t\tthis.pendingChangeNotification = setTimeout(() => {\n\t\t\t\tthis.pendingChangeNotification = 0;\n\t\t\t\tfn(arg);\n\t\t\t}, 20);\n\t\t};\n\t}\n\n\tregisterOnTouched(fn: () => void): void {\n\t\tthis.onTouched = fn;\n\t}\n\n\tsetDisabledState(isDisabled: boolean): void {\n\t\tthis.view.isEnabled = !isDisabled;\n\t}\n\n\twriteValue(_: any) {}\n\n\tprotected normalizeValue(value: any): any {\n\t\treturn isBlank(value) ? unsetValue : value;\n\t}\n}\n","import { Directive, ElementRef, forwardRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { View } from '@nativescript/core';\nimport { BaseValueAccessor } from './base-value-accessor';\n\nconst TEXT_VALUE_ACCESSOR = {\n\tprovide: NG_VALUE_ACCESSOR,\n\tuseExisting: forwardRef(() => TextValueAccessor),\n\tmulti: true,\n};\n\nexport type TextView = { text: string } & View;\n\n/**\n * The accessor for writing a text and listening to changes that is used by the\n * {@link NgModel} directives.\n *\n *  ### Example\n *  ```\n *  <TextField [(ngModel)]=\"model.test\">\n *  ```\n */\n@Directive({\n\tselector:\n\t\t'TextField[ngModel],TextField[formControlName],TextField[formControl],' +\n\t\t'textField[ngModel],textField[formControlName],textField[formControl],' +\n\t\t'textfield[ngModel],textfield[formControlName],textfield[formControl],' +\n\t\t'text-field[ngModel],text-field[formControlName],text-field[formControl],' +\n\t\t'TextView[ngModel],TextView[formControlName],TextView[formControl],' +\n\t\t'textView[ngModel],textView[formControlName],textView[formControl],' +\n\t\t'textview[ngModel],textview[formControlName],textview[formControl],' +\n\t\t'text-view[ngModel],text-view[formControlName],text-view[formControl],' +\n\t\t'SearchBar[ngModel],SearchBar[formControlName],SearchBar[formControl],' +\n\t\t'searchBar[ngModel],searchBar[formControlName],searchBar[formControl],' +\n\t\t'searchbar[ngModel],searchbar[formControlName],searchbar[formControl],' +\n\t\t'search-bar[ngModel], search-bar[formControlName],search-bar[formControl]',\n\tproviders: [TEXT_VALUE_ACCESSOR],\n\thost: {\n\t\t'(blur)': 'onTouched()',\n\t\t'(textChange)': 'onChange($event.value)',\n\t},\n})\nexport class TextValueAccessor extends BaseValueAccessor<TextView> {\n\t// tslint:disable-line:directive-class-suffix\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef.nativeElement);\n\t}\n\n\twriteValue(value: any): void {\n\t\tconst normalized = super.normalizeValue(value);\n\t\tthis.view.text = normalized;\n\t}\n}\n","import { Directive, ElementRef, forwardRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { BaseValueAccessor } from './base-value-accessor';\nimport { Switch } from '@nativescript/core';\n\nconst CHECKED_VALUE_ACCESSOR = {\n\tprovide: NG_VALUE_ACCESSOR,\n\tuseExisting: forwardRef(() => CheckedValueAccessor),\n\tmulti: true,\n};\n\n/**\n * The accessor for setting a checked property and listening to changes that is used by the\n * {@link NgModel} directives.\n *\n *  ### Example\n *  ```\n *  <Switch [(ngModel)]=\"model.test\">\n *  ```\n */\n@Directive({\n\tselector: 'Switch[ngModel],Switch[formControlName],Switch[formControl],' + 'switch[ngModel],switch[formControlName],switch[formControl]',\n\tproviders: [CHECKED_VALUE_ACCESSOR],\n\thost: {\n\t\t'(checkedChange)': 'onChange($event.value)',\n\t},\n})\nexport class CheckedValueAccessor extends BaseValueAccessor<Switch> {\n\t// tslint:disable-line:directive-class-suffix\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef.nativeElement);\n\t}\n\n\twriteValue(value: any): void {\n\t\tconst normalized = super.normalizeValue(value);\n\t\tthis.view.checked = normalized;\n\t}\n}\n","import { Directive, ElementRef, forwardRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { BaseValueAccessor } from './base-value-accessor';\nimport { DatePicker } from '@nativescript/core';\n\nconst DATE_VALUE_ACCESSOR = {\n\tprovide: NG_VALUE_ACCESSOR,\n\tuseExisting: forwardRef(() => DateValueAccessor),\n\tmulti: true,\n};\n\n/**\n * The accessor for setting a date and listening to changes that is used by the\n * {@link NgModel} directives.\n *\n *  ### Example\n *  ```\n *  <DatePicker [(ngModel)]=\"model.test\">\n *  ```\n */\n@Directive({\n\tselector: 'DatePicker[ngModel],DatePicker[formControlName],DatePicker[formControl],' + 'datepicker[ngModel],datepicker[formControlName],datepicker[formControl],' + 'datePicker[ngModel],datePicker[formControlName],datePicker[formControl],' + 'date-picker[ngModel],date-picker[formControlName],date-picker[formControl]',\n\tproviders: [DATE_VALUE_ACCESSOR],\n\thost: {\n\t\t'(dateChange)': 'onChange($event.value)',\n\t},\n})\nexport class DateValueAccessor extends BaseValueAccessor<DatePicker> {\n\t// tslint:disable-line:directive-class-suffix\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef.nativeElement);\n\t}\n\n\twriteValue(value: any): void {\n\t\tconst normalized = super.normalizeValue(value);\n\t\tthis.view.date = normalized;\n\t}\n}\n","import { Directive, ElementRef, forwardRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { BaseValueAccessor } from './base-value-accessor';\nimport { TimePicker } from '@nativescript/core';\n\nconst TIME_VALUE_ACCESSOR = {\n\tprovide: NG_VALUE_ACCESSOR,\n\tuseExisting: forwardRef(() => TimeValueAccessor),\n\tmulti: true,\n};\n\n/**\n * The accessor for setting a time and listening to changes that is used by the\n * {@link NgModel} directives.\n *\n *  ### Example\n *  ```\n *  <TimePicker [(ngModel)]=\"model.test\">\n *  ```\n */\n@Directive({\n\tselector: 'TimePicker[ngModel],TimePicker[formControlName],TimePicker[formControl],' + 'timepicker[ngModel],timepicker[formControlName],timepicker[formControl],' + 'timePicker[ngModel],timePicker[formControlName],timePicker[formControl],' + 'time-picker[ngModel],time-picker[formControlName],time-picker[formControl]',\n\tproviders: [TIME_VALUE_ACCESSOR],\n\thost: {\n\t\t'(timeChange)': 'onChange($event.value)',\n\t},\n})\nexport class TimeValueAccessor extends BaseValueAccessor<TimePicker> {\n\t// tslint:disable-line:directive-class-suffix\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef.nativeElement);\n\t}\n\n\twriteValue(value: any): void {\n\t\tconst normalized = super.normalizeValue(value);\n\t\tthis.view.time = normalized;\n\t}\n}\n","import { Directive, ElementRef, forwardRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { BaseValueAccessor } from './base-value-accessor';\nimport { Slider } from '@nativescript/core';\n\nconst NUMBER_VALUE_ACCESSOR = {\n\tprovide: NG_VALUE_ACCESSOR,\n\tuseExisting: forwardRef(() => NumberValueAccessor),\n\tmulti: true,\n};\n\n/**\n * The accessor for setting a value and listening to changes that is used by the\n * {@link NgModel}\n *\n *  ### Example\n *  ```\n *  <Slider [(ngModel)]=\"model.test\">\n *  ```\n */\n@Directive({\n\tselector: 'Slider[ngModel],Slider[formControlName],Slider[formControl],' + 'slider[ngModel],slider[formControlName],slider[formControl]',\n\tproviders: [NUMBER_VALUE_ACCESSOR],\n\thost: {\n\t\t'(valueChange)': 'onChange($event.value)',\n\t},\n})\nexport class NumberValueAccessor extends BaseValueAccessor<Slider> {\n\t// tslint:disable-line:directive-class-suffix\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef.nativeElement);\n\t}\n\n\twriteValue(value: any): void {\n\t\tconst normalized = super.normalizeValue(value);\n\t\tthis.view.value = normalized;\n\t}\n}\n","import { Directive, ElementRef, forwardRef, AfterViewInit } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { BaseValueAccessor } from './base-value-accessor';\nimport { View } from '@nativescript/core';\n\nconst SELECTED_INDEX_VALUE_ACCESSOR = {\n\tprovide: NG_VALUE_ACCESSOR,\n\tuseExisting: forwardRef(() => SelectedIndexValueAccessor),\n\tmulti: true,\n};\n\nexport type SelectableView = { selectedIndex: number } & View;\n\n/**\n * The accessor for setting a selectedIndex and listening to changes that is used by the\n * {@link NgModel} directives.\n *\n *  ### Example\n *  ```\n *  <SegmentedBar [(ngModel)]=\"model.test\">\n *  ```\n */\n@Directive({\n\tselector:\n\t\t'SegmentedBar[ngModel],SegmentedBar[formControlName],SegmentedBar[formControl],' +\n\t\t'segmentedBar[ngModel],segmentedBar[formControlName],segmentedBar[formControl],' +\n\t\t'segmentedbar[ngModel],segmentedbar[formControlName],segmentedbar[formControl],' +\n\t\t'segmented-bar[ngModel],segmented-bar[formControlName],segmented-bar[formControl],' +\n\t\t'ListPicker[ngModel],ListPicker[formControlName],ListPicker[formControl],' +\n\t\t'listPicker[ngModel],listPicker[formControlName],listPicker[formControl],' +\n\t\t'listpicker[ngModel],listpicker[formControlName],listpicker[formControl],' +\n\t\t'list-picker[ngModel],list-picker[formControlName],list-picker[formControl],' +\n\t\t'TabView[ngModel],TabView[formControlName],TabView[formControl],' +\n\t\t'tabView[ngModel],tabView[formControlName],tabView[formControl],' +\n\t\t'tabview[ngModel],tabview[formControlName],tabview[formControl],' +\n\t\t'tab-view[ngModel],tab-view[formControlName],tab-view[formControl]',\n\tproviders: [SELECTED_INDEX_VALUE_ACCESSOR],\n\thost: {\n\t\t'(selectedIndexChange)': 'onChange($event.value)',\n\t},\n})\nexport class SelectedIndexValueAccessor extends BaseValueAccessor<SelectableView> implements AfterViewInit {\n\t// tslint:disable-line:max-line-length directive-class-suffix\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef.nativeElement);\n\t}\n\n\tprivate value: number;\n\tprivate viewInitialized: boolean;\n\n\twriteValue(value: any): void {\n\t\tconst normalized = super.normalizeValue(value);\n\t\tthis.value = normalized;\n\n\t\tif (this.viewInitialized) {\n\t\t\tthis.view.selectedIndex = this.value;\n\t\t}\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.viewInitialized = true;\n\t\tthis.view.selectedIndex = this.value;\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, NumberValueAccessor, SelectedIndexValueAccessor } from './value-accessors';\n\nexport * from './value-accessors';\n\n@NgModule({\n\tdeclarations: [TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor],\n\tproviders: [],\n\timports: [FormsModule],\n\texports: [FormsModule, TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor],\n})\nexport class NativeScriptFormsModule {}\n","import { ComponentRef } from '@angular/core';\nimport { ActivatedRoute, ActivatedRouteSnapshot, ChildrenOutletContexts, PRIMARY_OUTLET } from '@angular/router';\n\n/**\n * There are cases where multiple activatedRoute nodes should be associated/handled by the same PageRouterOutlet.\n * We can gat additional ActivatedRoutes nodes when there is:\n *  - Lazy loading - there is an additional ActivatedRoute node for the RouteConfig with the `loadChildren` setup\n *  - Componentless routes - there is an additional ActivatedRoute node for the componentless RouteConfig\n *\n * Example:\n *   R  <-- root\n *   |\n * feature (lazy module) <-- RouteConfig: { path: \"lazy\", loadChildren: \"./feature/feature.module#FeatureModule\" }\n *   |\n * module (componentless route) <-- RouteConfig: { path: \"module\", children: [...] } // Note: No 'component'\n *   |\n *  home <-- RouteConfig: { path: \"module\", component: MyComponent } - this is what we get as activatedRoute param\n *\n *  In these cases we will mark the top-most node (feature). NSRouteReuseStrategy will detach the tree there and\n *  use this ActivateRoute as a kay for caching.\n */\nexport function findTopActivatedRouteNodeForOutlet(activatedRoute: ActivatedRouteSnapshot): ActivatedRouteSnapshot {\n\tlet outletActivatedRoute = activatedRoute;\n\n\twhile (outletActivatedRoute.parent && outletActivatedRoute.parent.routeConfig && !outletActivatedRoute.parent.routeConfig.component) {\n\t\toutletActivatedRoute = outletActivatedRoute.parent;\n\t}\n\n\treturn outletActivatedRoute;\n}\n\nexport const pageRouterActivatedSymbol = Symbol('page-router-activated');\nexport const loaderRefSymbol = Symbol('loader-ref');\n\nexport function destroyComponentRef(componentRef: ComponentRef<any>) {\n\tif (componentRef) {\n\t\tconst loaderRef = componentRef[loaderRefSymbol];\n\t\tif (loaderRef) {\n\t\t\tloaderRef.destroy();\n\t\t}\n\t\tcomponentRef.destroy();\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { RouteReuseStrategy, ActivatedRouteSnapshot, DetachedRouteHandle } from '@angular/router';\n\nimport { NativeScriptDebug } from '../trace';\nimport { NSLocationStrategy } from './ns-location-strategy';\nimport { destroyComponentRef, findTopActivatedRouteNodeForOutlet, pageRouterActivatedSymbol } from './page-router-outlet-utils';\n\ninterface CacheItem {\n\tkey: string;\n\tstate: DetachedRouteHandle;\n\tisModal: boolean;\n}\n\nconst getSnapshotKey = function (snapshot: ActivatedRouteSnapshot): string {\n\treturn snapshot.pathFromRoot.join('->');\n};\n\n/**\n * Detached state cache\n */\nclass DetachedStateCache {\n\tprivate cache = new Array<CacheItem>();\n\n\tpublic get length(): number {\n\t\treturn this.cache.length;\n\t}\n\n\tpublic push(cacheItem: CacheItem) {\n\t\tthis.cache.push(cacheItem);\n\t}\n\n\tpublic pop(): CacheItem {\n\t\treturn this.cache.pop();\n\t}\n\n\tpublic peek(): CacheItem {\n\t\treturn this.cache[this.cache.length - 1];\n\t}\n\n\tpublic clear() {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clear() ${this.cache.length} items will be destroyed`);\n\t\t}\n\n\t\twhile (this.cache.length > 0) {\n\t\t\tconst state = <any>this.cache.pop().state;\n\t\t\tif (!state.componentRef) {\n\t\t\t\tthrow new Error('No componentRed found in DetachedRouteHandle');\n\t\t\t}\n\n\t\t\tdestroyComponentRef(state.componentRef);\n\t\t}\n\t}\n\n\tpublic clearModalCache() {\n\t\tlet removedItemsCount = 0;\n\t\tconst hasModalPages = this.cache.some((cacheItem) => {\n\t\t\treturn cacheItem.isModal;\n\t\t});\n\n\t\tif (hasModalPages) {\n\t\t\tlet modalCacheCleared = false;\n\n\t\t\twhile (!modalCacheCleared) {\n\t\t\t\tlet cacheItem = this.peek();\n\t\t\t\tconst state = <any>cacheItem.state;\n\n\t\t\t\tif (!state.componentRef) {\n\t\t\t\t\tthrow new Error('No componentRef found in DetachedRouteHandle');\n\t\t\t\t}\n\n\t\t\t\tdestroyComponentRef(state.componentRef);\n\t\t\t\tif (cacheItem.isModal) {\n\t\t\t\t\tmodalCacheCleared = true;\n\t\t\t\t}\n\n\t\t\t\tthis.pop();\n\t\t\t\tremovedItemsCount++;\n\t\t\t}\n\t\t}\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clearModalCache() ${removedItemsCount} items will be destroyed`);\n\t\t}\n\t}\n}\n\n/**\n * Detaches subtrees loaded inside PageRouterOutlet in forward navigation\n * and reattaches them on back.\n * Reuses routes as long as their route config is the same.\n */\n@Injectable()\nexport class NSRouteReuseStrategy implements RouteReuseStrategy {\n\tprivate cacheByOutlet: { [key: string]: DetachedStateCache } = {};\n\n\tconstructor(private location: NSLocationStrategy) {}\n\n\tshouldDetach(route: ActivatedRouteSnapshot): boolean {\n\t\troute = findTopActivatedRouteNodeForOutlet(route);\n\n\t\tconst outletKey = this.location.getRouteFullPath(route);\n\t\tconst outlet = this.location.findOutlet(outletKey, route);\n\t\tconst key = getSnapshotKey(route);\n\t\tconst isPageActivated = route[pageRouterActivatedSymbol];\n\t\tconst isBack = outlet ? outlet.isPageNavigationBack : false;\n\t\tlet shouldDetach = outlet && !isBack && isPageActivated;\n\n\t\tif (outlet) {\n\t\t\tif (outlet.parent && !outlet.parent.shouldDetach) {\n\t\t\t\tshouldDetach = false;\n\t\t\t}\n\n\t\t\toutlet.shouldDetach = shouldDetach;\n\t\t}\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routeReuseStrategyLog(`shouldDetach isBack: ${isBack} key: ${key} result: ${shouldDetach}`);\n\t\t}\n\n\t\treturn shouldDetach;\n\t}\n\n\tshouldAttach(route: ActivatedRouteSnapshot): boolean {\n\t\troute = findTopActivatedRouteNodeForOutlet(route);\n\n\t\tconst outletKey = this.location.getRouteFullPath(route);\n\t\tconst outlet = this.location.findOutlet(outletKey, route);\n\t\tconst cache = this.cacheByOutlet[outletKey];\n\t\tif (!cache) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst key = getSnapshotKey(route);\n\t\tconst isBack = outlet ? outlet.isPageNavigationBack : false;\n\t\tconst shouldAttach = isBack && cache.peek().key === key;\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routeReuseStrategyLog(`shouldAttach isBack: ${isBack} key: ${key} result: ${shouldAttach}`);\n\t\t}\n\n\t\tif (outlet) {\n\t\t\toutlet.shouldDetach = true;\n\t\t}\n\n\t\treturn shouldAttach;\n\t}\n\n\tstore(route: ActivatedRouteSnapshot, state: DetachedRouteHandle): void {\n\t\troute = findTopActivatedRouteNodeForOutlet(route);\n\n\t\tconst key = getSnapshotKey(route);\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routeReuseStrategyLog(`store key: ${key}, state: ${state}`);\n\t\t}\n\n\t\tconst outletKey = this.location.getRouteFullPath(route);\n\n\t\t// tslint:disable-next-line:max-line-length\n\t\tconst cache = (this.cacheByOutlet[outletKey] = this.cacheByOutlet[outletKey] || new DetachedStateCache());\n\n\t\tif (state) {\n\t\t\tlet isModal = false;\n\t\t\tif (this.location._modalNavigationDepth > 0) {\n\t\t\t\tisModal = true;\n\t\t\t}\n\n\t\t\tcache.push({ key, state, isModal });\n\t\t} else {\n\t\t\tconst topItem = cache.peek();\n\t\t\tif (topItem.key === key) {\n\t\t\t\tcache.pop();\n\n\t\t\t\tif (!cache.length) {\n\t\t\t\t\tdelete this.cacheByOutlet[outletKey];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Trying to pop from DetachedStateCache but keys don't match. \" + `expected: ${topItem.key} actual: ${key}`);\n\t\t\t}\n\t\t}\n\t}\n\n\tretrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle | null {\n\t\troute = findTopActivatedRouteNodeForOutlet(route);\n\n\t\tconst outletKey = this.location.getRouteFullPath(route);\n\t\tconst outlet = this.location.findOutlet(outletKey, route);\n\t\tconst cache = this.cacheByOutlet[outletKey];\n\t\tif (!cache) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst key = getSnapshotKey(route);\n\t\tconst isBack = outlet ? outlet.isPageNavigationBack : false;\n\t\tconst cachedItem = cache.peek();\n\n\t\tlet state = null;\n\t\tif (isBack && cachedItem && cachedItem.key === key) {\n\t\t\tstate = cachedItem.state;\n\t\t}\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routeReuseStrategyLog(`retrieved isBack: ${isBack} key: ${key} state: ${state}`);\n\t\t}\n\n\t\treturn state;\n\t}\n\n\tshouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n\t\tconst shouldReuse = future.routeConfig === curr.routeConfig;\n\n\t\tif (shouldReuse && curr && curr[pageRouterActivatedSymbol]) {\n\t\t\t// When reusing route - copy the pageRouterActivated to the new snapshot\n\t\t\t// It's needed in shouldDetach to determine if the route should be detached.\n\t\t\tfuture[pageRouterActivatedSymbol] = curr[pageRouterActivatedSymbol];\n\t\t}\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routeReuseStrategyLog(`shouldReuseRoute result: ${shouldReuse}`);\n\t\t}\n\n\t\treturn shouldReuse;\n\t}\n\n\tclearCache(outletKey: string) {\n\t\tconst cache = this.cacheByOutlet[outletKey];\n\n\t\tif (cache) {\n\t\t\tcache.clear();\n\t\t}\n\t}\n\n\tclearModalCache(outletKey: string) {\n\t\tconst cache = this.cacheByOutlet[outletKey];\n\n\t\tif (cache) {\n\t\t\tcache.clearModalCache();\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Router, UrlTree, NavigationExtras, ActivatedRoute } from '@angular/router';\nimport { NSLocationStrategy } from './ns-location-strategy';\nimport { NavigationOptions, Outlet } from './ns-location-utils';\nimport { FrameService } from '../frame.service';\nimport { NativeScriptDebug } from '../trace';\nimport { findTopActivatedRouteNodeForOutlet } from './page-router-outlet-utils';\n\nexport type ExtendedNavigationExtras = NavigationExtras & NavigationOptions;\n\nexport interface BackNavigationOptions {\n\toutlets?: Array<string>;\n\trelativeTo?: ActivatedRoute | null;\n}\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class RouterExtensions {\n\tconstructor(public router: Router, public locationStrategy: NSLocationStrategy, public frameService: FrameService) {}\n\n\tpublic navigate(commands: any[], extras?: ExtendedNavigationExtras): Promise<boolean> {\n\t\tif (extras) {\n\t\t\tthis.locationStrategy._setNavigationOptions(extras);\n\t\t}\n\t\treturn this.router.navigate(commands, extras);\n\t}\n\n\tpublic navigateByUrl(url: string | UrlTree, options?: NavigationOptions): Promise<boolean> {\n\t\tif (options) {\n\t\t\tthis.locationStrategy._setNavigationOptions(options);\n\t\t}\n\t\treturn this.router.navigateByUrl(url);\n\t}\n\n\tpublic back(backNavigationOptions?: BackNavigationOptions) {\n\t\tif (backNavigationOptions) {\n\t\t\tthis.backOutlets(backNavigationOptions);\n\t\t} else {\n\t\t\tthis.locationStrategy.back();\n\t\t}\n\t}\n\n\tpublic canGoBack(backNavigationOptions?: BackNavigationOptions) {\n\t\tlet canGoBack = true;\n\t\tif (backNavigationOptions) {\n\t\t\tconst { outletsToBack, outlets } = this.findOutletsToBack(backNavigationOptions);\n\n\t\t\tif (outletsToBack.length !== outlets.length) {\n\t\t\t\tNativeScriptDebug.routerError('No outlet found relative to activated route');\n\t\t\t} else {\n\t\t\t\toutletsToBack.forEach((outletToBack) => {\n\t\t\t\t\tif (!this.locationStrategy.canGoBack(outletToBack)) {\n\t\t\t\t\t\tcanGoBack = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tcanGoBack = this.locationStrategy.canGoBack();\n\t\t}\n\n\t\treturn canGoBack;\n\t}\n\n\tpublic backToPreviousPage() {\n\t\tthis.frameService.getFrame().goBack();\n\t}\n\n\tpublic canGoBackToPreviousPage(): boolean {\n\t\treturn this.frameService.getFrame().canGoBack();\n\t}\n\n\tprivate backOutlets(options: BackNavigationOptions) {\n\t\tconst { outletsToBack, outlets } = this.findOutletsToBack(options);\n\n\t\tif (outletsToBack.length !== outlets.length) {\n\t\t\tNativeScriptDebug.routerError('No outlet found relative to activated route');\n\t\t} else {\n\t\t\toutletsToBack.forEach((outletToBack) => {\n\t\t\t\tif (outletToBack.isPageNavigationBack) {\n\t\t\t\t\tNativeScriptDebug.routerError('Attempted to call startGoBack while going back:');\n\t\t\t\t} else {\n\t\t\t\t\tthis.locationStrategy.back(outletToBack);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// tslint:disable-next-line:max-line-length\n\tprivate findOutletsToBack(options?: BackNavigationOptions): { outletsToBack: Array<Outlet>; outlets: Array<string> } {\n\t\tconst outletsToBack: Array<Outlet> = [];\n\t\tconst rootRoute: ActivatedRoute = this.router.routerState.root;\n\t\tlet outlets = options.outlets;\n\t\tlet relativeRoute = options.relativeTo || rootRoute;\n\n\t\tconst relativeRouteOutlet = this.findOutletByRoute(relativeRoute);\n\t\tconst isNSEmptyOutlet = relativeRouteOutlet && relativeRouteOutlet.isNSEmptyOutlet;\n\n\t\t// Lazy named outlet has added 'primary' inner NSEmptyOutlet child.\n\t\t// Take parent route when `relativeTo` option points to the outer named outlet.\n\t\tif (isNSEmptyOutlet && relativeRoute.outlet !== 'primary') {\n\t\t\trelativeRoute = relativeRoute.parent || relativeRoute;\n\t\t}\n\n\t\tconst routesToMatch = outlets ? relativeRoute.children : [relativeRoute];\n\t\toutlets = outlets || [relativeRoute.outlet];\n\n\t\tfor (let index = 0; index < routesToMatch.length; index++) {\n\t\t\tconst currentRoute = routesToMatch[index];\n\t\t\tif (outlets.some((currentOutlet) => currentOutlet === currentRoute.outlet)) {\n\t\t\t\tconst outlet = this.findOutletByRoute(currentRoute);\n\n\t\t\t\tif (outlet) {\n\t\t\t\t\toutletsToBack.push(outlet);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn { outletsToBack: outletsToBack, outlets: outlets };\n\t}\n\n\tprivate findOutletByRoute(currentRoute: ActivatedRoute): Outlet {\n\t\tlet outlet;\n\n\t\tconst currentRouteSnapshop = findTopActivatedRouteNodeForOutlet(currentRoute.snapshot);\n\t\tconst outletKey = this.locationStrategy.getRouteFullPath(currentRouteSnapshop);\n\t\toutlet = this.locationStrategy.findOutlet(outletKey, currentRouteSnapshop);\n\n\t\treturn outlet;\n\t}\n}\n","import { Directive, Input, ElementRef, NgZone } from '@angular/core';\nimport { NavigationExtras } from '@angular/router';\nimport { ActivatedRoute, Router, UrlTree } from '@angular/router';\nimport { NavigationTransition } from '@nativescript/core';\nimport { NativeScriptDebug } from '../trace';\nimport { RouterExtensions } from './router-extensions';\nimport { NavigationOptions } from './ns-location-utils';\n\n// Copied from \"@angular/router/src/config\"\nexport type QueryParamsHandling = 'merge' | 'preserve' | '';\n\n/**\n * The nsRouterLink directive lets you link to specific parts of your app.\n *\n * Consider the following route configuration:\n * ```\n * [{ path: \"/user\", component: UserCmp }]\n * ```\n *\n * When linking to this `User` route, you can write:\n *\n * ```\n * <a [nsRouterLink]=\"[\"/user\"]\">link to user component</a>\n * ```\n *\n * NSRouterLink expects the value to be an array of path segments, followed by the params\n * for that level of routing. For instance `[\"/team\", {teamId: 1}, \"user\", {userId: 2}]`\n * means that we want to generate a link to `/team;teamId=1/user;userId=2`.\n *\n * The first segment name can be prepended with `/`, `./`, or `../`.\n * If the segment begins with `/`, the router will look up the route from the root of the app.\n * If the segment begins with `./`, or doesn\"t begin with a slash, the router will\n * instead look in the current component\"s children for the route.\n * And if the segment begins with `../`, the router will go up one level.\n */\n@Directive({ selector: '[nsRouterLink]' })\nexport class NSRouterLink {\n\t// tslint:disable-line:directive-class-suffix\n\t@Input() target: string;\n\t@Input() queryParams: { [k: string]: any };\n\t@Input() fragment: string;\n\n\t@Input() queryParamsHandling: QueryParamsHandling;\n\t@Input() preserveQueryParams: boolean;\n\t@Input() preserveFragment: boolean;\n\t@Input() skipLocationChange: boolean;\n\t@Input() replaceUrl: boolean;\n\n\t@Input() clearHistory: boolean;\n\t@Input() pageTransition: boolean | string | NavigationTransition = true;\n\t@Input() pageTransitionDuration;\n\n\tprivate commands: any[] = [];\n\n\tconstructor(private ngZone: NgZone, private router: Router, private navigator: RouterExtensions, private route: ActivatedRoute, private el: ElementRef) {}\n\n\tngAfterViewInit() {\n\t\tthis.el.nativeElement.on('tap', () => {\n\t\t\tthis.ngZone.run(() => {\n\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\tNativeScriptDebug.routerLog(`nsRouterLink.tapped: ${this.commands} ` + `clear: ${this.clearHistory} ` + `transition: ${JSON.stringify(this.pageTransition)} ` + `duration: ${this.pageTransitionDuration}`);\n\t\t\t\t}\n\n\t\t\t\tconst extras = this.getExtras();\n\t\t\t\t// this.navigator.navigateByUrl(this.urlTree, extras);\n\t\t\t\tthis.navigator.navigate(this.commands, {\n\t\t\t\t\t...extras,\n\t\t\t\t\trelativeTo: this.route,\n\t\t\t\t\tqueryParams: this.queryParams,\n\t\t\t\t\tfragment: this.fragment,\n\t\t\t\t\tqueryParamsHandling: this.queryParamsHandling,\n\t\t\t\t\tpreserveFragment: attrBoolValue(this.preserveFragment),\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\t@Input('nsRouterLink')\n\tset params(data: any[] | string) {\n\t\tif (Array.isArray(data)) {\n\t\t\tthis.commands = data;\n\t\t} else {\n\t\t\tthis.commands = [data];\n\t\t}\n\t}\n\n\tprivate getExtras(): NavigationExtras & NavigationOptions {\n\t\tconst transition = this.getTransition();\n\t\treturn {\n\t\t\tskipLocationChange: attrBoolValue(this.skipLocationChange),\n\t\t\treplaceUrl: attrBoolValue(this.replaceUrl),\n\n\t\t\tclearHistory: this.convertClearHistory(this.clearHistory),\n\t\t\tanimated: transition.animated,\n\t\t\ttransition: transition.transition,\n\t\t};\n\t}\n\n\tget urlTree(): UrlTree {\n\t\tconst urlTree = this.router.createUrlTree(this.commands, {\n\t\t\trelativeTo: this.route,\n\t\t\tqueryParams: this.queryParams,\n\t\t\tfragment: this.fragment,\n\t\t\tqueryParamsHandling: this.queryParamsHandling,\n\t\t\tpreserveFragment: attrBoolValue(this.preserveFragment),\n\t\t});\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog(`nsRouterLink urlTree created: ${urlTree}`);\n\t\t}\n\n\t\treturn urlTree;\n\t}\n\n\tprivate convertClearHistory(value: boolean | string): boolean {\n\t\treturn value === true || value === 'true';\n\t}\n\n\tprivate getTransition(): { animated: boolean; transition?: NavigationTransition } {\n\t\tlet transition: NavigationTransition;\n\t\tlet animated: boolean;\n\n\t\tif (typeof this.pageTransition === 'boolean') {\n\t\t\tanimated = this.pageTransition;\n\t\t} else if (typeof this.pageTransition === 'string') {\n\t\t\tif (this.pageTransition === 'none' || this.pageTransition === 'false') {\n\t\t\t\tanimated = false;\n\t\t\t} else {\n\t\t\t\tanimated = true;\n\t\t\t\ttransition = {\n\t\t\t\t\tname: <string>this.pageTransition,\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\tanimated = true;\n\t\t\ttransition = <NavigationTransition>this.pageTransition;\n\t\t}\n\n\t\tlet duration = +this.pageTransitionDuration;\n\t\tif (!isNaN(duration)) {\n\t\t\ttransition = transition || {};\n\t\t\ttransition.duration = duration;\n\t\t}\n\n\t\treturn { animated, transition };\n\t}\n}\n\nfunction attrBoolValue(s: any): boolean {\n\treturn s === '' || !!s;\n}\n","/* tslint:disable:forin */\n// Copied unexported functions from @angular/router/src/url_tree\nimport { UrlTree, UrlSegment, PRIMARY_OUTLET } from '@angular/router';\n// UrlSegmentGroup not exported, just use any.\ntype UrlSegmentGroup = any;\n\nexport function containsTree(container: UrlTree, containee: UrlTree, exact: boolean): boolean {\n\tif (exact) {\n\t\treturn equalSegmentGroups(container.root, containee.root);\n\t} else {\n\t\treturn containsSegmentGroup(container.root, containee.root);\n\t}\n}\n\nfunction equalSegmentGroups(container: UrlSegmentGroup, containee: UrlSegmentGroup): boolean {\n\tif (!equalPath(container.segments, containee.segments)) {\n\t\treturn false;\n\t}\n\tif (container.numberOfChildren !== containee.numberOfChildren) {\n\t\treturn false;\n\t}\n\tfor (let c in containee.children) {\n\t\tif (!container.children[c]) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!equalSegmentGroups(container.children[c], containee.children[c])) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction containsSegmentGroup(container: UrlSegmentGroup, containee: UrlSegmentGroup): boolean {\n\treturn containsSegmentGroupHelper(container, containee, containee.segments);\n}\n\nfunction containsSegmentGroupHelper(container: UrlSegmentGroup, containee: UrlSegmentGroup, containeePaths: UrlSegment[]): boolean {\n\tif (container.segments.length > containeePaths.length) {\n\t\tconst current = container.segments.slice(0, containeePaths.length);\n\t\tif (!equalPath(current, containeePaths)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (containee.hasChildren()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t} else if (container.segments.length === containeePaths.length) {\n\t\tif (!equalPath(container.segments, containeePaths)) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (let c in containee.children) {\n\t\t\tif (!container.children[c]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!containsSegmentGroup(container.children[c], containee.children[c])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t} else {\n\t\tconst current = containeePaths.slice(0, container.segments.length);\n\t\tconst next = containeePaths.slice(container.segments.length);\n\t\tif (!equalPath(container.segments, current)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!container.children[PRIMARY_OUTLET]) {\n\t\t\treturn false;\n\t\t}\n\t\treturn containsSegmentGroupHelper(container.children[PRIMARY_OUTLET], containee, next);\n\t}\n}\n\nexport function equalPath(a: UrlSegment[], b: UrlSegment[]): boolean {\n\tif (a.length !== b.length) {\n\t\treturn false;\n\t}\n\tfor (let i = 0; i < a.length; ++i) {\n\t\tif (a[i].path !== b[i].path) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n","import { AfterContentInit, ContentChildren, Directive, ElementRef, Input, OnChanges, OnDestroy, QueryList, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { NavigationEnd, Router, UrlTree } from '@angular/router';\nimport { containsTree } from './private-imports/router-url-tree';\n\nimport { NSRouterLink } from './ns-router-link';\n\n/**\n * The NSRouterLinkActive directive lets you add a CSS class to an element when the link\"s route\n * becomes active.\n *\n * Consider the following example:\n *\n * ```\n * <a [nsRouterLink]=\"/user/bob\" [nsRouterLinkActive]=\"active-link\">Bob</a>\n * ```\n *\n * When the url is either \"/user\" or \"/user/bob\", the active-link class will\n * be added to the component. If the url changes, the class will be removed.\n *\n * You can set more than one class, as follows:\n *\n * ```\n * <a [nsRouterLink]=\"/user/bob\" [nsRouterLinkActive]=\"class1 class2\">Bob</a>\n * <a [nsRouterLink]=\"/user/bob\" [nsRouterLinkActive]=\"[\"class1\", \"class2\"]\">Bob</a>\n * ```\n *\n * You can configure NSRouterLinkActive by passing `exact: true`. This will add the\n * classes only when the url matches the link exactly.\n *\n * ```\n * <a [nsRouterLink]=\"/user/bob\" [nsRouterLinkActive]=\"active-link\"\n * [nsRouterLinkActiveOptions]=\"{exact: true}\">Bob</a>\n * ```\n *\n * Finally, you can apply the NSRouterLinkActive directive to an ancestor of a RouterLink.\n *\n * ```\n * <div [nsRouterLinkActive]=\"active-link\" [nsRouterLinkActiveOptions]=\"{exact: true}\">\n *   <a [nsRouterLink]=\"/user/jim\">Jim</a>\n *   <a [nsRouterLink]=\"/user/bob\">Bob</a>\n * </div>\n * ```\n *\n * This will set the active-link class on the div tag if the url is either \"/user/jim\" or\n * \"/user/bob\".\n *\n * @stable\n */\n@Directive({\n\tselector: '[nsRouterLinkActive]',\n\texportAs: 'routerLinkActive',\n})\nexport class NSRouterLinkActive implements OnChanges, OnDestroy, AfterContentInit {\n\t// tslint:disable-line:max-line-length directive-class-suffix\n\t@ContentChildren(NSRouterLink) links: QueryList<NSRouterLink>;\n\n\tprivate classes: string[] = [];\n\tprivate subscription: Subscription;\n\tprivate active: boolean = false;\n\n\t@Input() nsRouterLinkActiveOptions: { exact: boolean } = { exact: false };\n\n\tconstructor(private router: Router, private element: ElementRef, private renderer: Renderer2) {\n\t\tthis.subscription = router.events.subscribe((s) => {\n\t\t\tif (s instanceof NavigationEnd) {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t});\n\t}\n\n\tget isActive(): boolean {\n\t\treturn this.active;\n\t}\n\n\tngAfterContentInit(): void {\n\t\tthis.links.changes.subscribe(() => this.update());\n\t\tthis.update();\n\t}\n\n\t@Input('nsRouterLinkActive')\n\tset nsRouterLinkActive(data: string[] | string) {\n\t\tif (Array.isArray(data)) {\n\t\t\tthis.classes = <any>data;\n\t\t} else {\n\t\t\tthis.classes = data.split(' ');\n\t\t}\n\t}\n\n\tngOnChanges(_: {}): any {\n\t\tthis.update();\n\t}\n\tngOnDestroy(): any {\n\t\tthis.subscription.unsubscribe();\n\t}\n\n\tprivate update(): void {\n\t\tif (!this.links) {\n\t\t\treturn;\n\t\t}\n\t\tconst hasActiveLinks = this.hasActiveLinks();\n\t\t// react only when status has changed to prevent unnecessary dom updates\n\t\tif (this.active !== hasActiveLinks) {\n\t\t\tconst currentUrlTree = this.router.parseUrl(this.router.url);\n\t\t\tconst isActiveLinks = this.reduceList(currentUrlTree, this.links);\n\t\t\tthis.classes.forEach((c) => {\n\t\t\t\tif (isActiveLinks) {\n\t\t\t\t\tthis.renderer.addClass(this.element.nativeElement, c);\n\t\t\t\t} else {\n\t\t\t\t\tthis.renderer.removeClass(this.element.nativeElement, c);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tPromise.resolve(hasActiveLinks).then((active) => (this.active = active));\n\t}\n\n\tprivate reduceList(currentUrlTree: UrlTree, q: QueryList<any>): boolean {\n\t\treturn q.reduce((res: boolean, link: NSRouterLink) => {\n\t\t\treturn res || containsTree(currentUrlTree, link.urlTree, this.nsRouterLinkActiveOptions.exact);\n\t\t}, false);\n\t}\n\n\tprivate isLinkActive(router: Router): (link: NSRouterLink) => boolean {\n\t\treturn (link: NSRouterLink) => router.isActive(link.urlTree, this.nsRouterLinkActiveOptions.exact);\n\t}\n\n\tprivate hasActiveLinks(): boolean {\n\t\treturn this.links.some(this.isLinkActive(this.router));\n\t}\n}\n","import { Attribute, ChangeDetectorRef, ComponentFactory, ComponentFactoryResolver, ComponentRef, Directive, Inject, InjectionToken, Injector, OnDestroy, EventEmitter, Output, Type, ViewContainerRef, ElementRef, InjectFlags, NgZone } from '@angular/core';\nimport { ActivatedRoute, ActivatedRouteSnapshot, ChildrenOutletContexts, PRIMARY_OUTLET } from '@angular/router';\n\nimport { Frame, Page, NavigatedData, profile, Device } from '@nativescript/core';\n\nimport { BehaviorSubject } from 'rxjs';\n\nimport { PAGE_FACTORY, PageFactory } from '../platform-providers';\nimport { NativeScriptDebug } from '../trace';\nimport { DetachedLoader } from '../common/detached-loader';\nimport { ViewUtil } from '../view-util';\nimport { NSLocationStrategy } from './ns-location-strategy';\nimport { Outlet } from './ns-location-utils';\nimport { NSRouteReuseStrategy } from './ns-route-reuse-strategy';\nimport { findTopActivatedRouteNodeForOutlet, pageRouterActivatedSymbol, loaderRefSymbol, destroyComponentRef } from './page-router-outlet-utils';\n\nexport class PageRoute {\n\tactivatedRoute: BehaviorSubject<ActivatedRoute>;\n\n\tconstructor(startRoute: ActivatedRoute) {\n\t\tthis.activatedRoute = new BehaviorSubject(startRoute);\n\t}\n}\n\nexport class DestructibleInjector implements Injector {\n\tprivate refs = new Set<any>();\n\tconstructor(private destructableProviders: ProviderSet, private parent: Injector) {}\n\tget<T>(token: Type<T> | InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags): T {\n\t\tconst ref = this.parent.get(token, notFoundValue, flags);\n\t\tif (this.destructableProviders.has(token)) {\n\t\t\tthis.refs.add(ref);\n\t\t}\n\t\treturn ref;\n\t}\n\tdestroy() {\n\t\tthis.refs.forEach((ref) => {\n\t\t\tif (ref.ngOnDestroy instanceof Function) {\n\t\t\t\tref.ngOnDestroy();\n\t\t\t}\n\t\t});\n\t\tthis.refs.clear();\n\t}\n}\n\ntype ProviderSet = Set<Type<any> | InjectionToken<any>>;\n\nconst routeToString = function (activatedRoute: ActivatedRoute | ActivatedRouteSnapshot): string {\n\treturn activatedRoute.pathFromRoot.join('->');\n};\n\n@Directive({ selector: 'page-router-outlet' }) // tslint:disable-line:directive-selector\nexport class PageRouterOutlet implements OnDestroy {\n\t// tslint:disable-line:directive-class-suffix\n\tprivate activated: ComponentRef<any> | null = null;\n\tprivate _activatedRoute: ActivatedRoute | null = null;\n\tprivate detachedLoaderFactory: ComponentFactory<DetachedLoader>;\n\n\tprivate outlet: Outlet;\n\tprivate name: string;\n\tprivate isEmptyOutlet: boolean;\n\tprivate viewUtil: ViewUtil;\n\tprivate frame: Frame;\n\n\t@Output('activate') activateEvents = new EventEmitter<any>(); // tslint:disable-line:no-output-rename\n\t@Output('deactivate') deactivateEvents = new EventEmitter<any>(); // tslint:disable-line:no-output-rename\n\n\t/** @deprecated from Angular since v4 */\n\tget locationInjector(): Injector {\n\t\treturn this.location.injector;\n\t}\n\t/** @deprecated from Angular since v4 */\n\tget locationFactoryResolver(): ComponentFactoryResolver {\n\t\treturn this.resolver;\n\t}\n\n\tget isActivated(): boolean {\n\t\treturn !!this.activated;\n\t}\n\n\tget component(): Object {\n\t\tif (!this.activated) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerLog('Outlet is not activated');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\treturn this.activated.instance;\n\t}\n\tget activatedRoute(): ActivatedRoute {\n\t\tif (!this.activated) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerLog('Outlet is not activated');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\treturn this._activatedRoute;\n\t}\n\n\tconstructor(private parentContexts: ChildrenOutletContexts, private location: ViewContainerRef, @Attribute('name') name: string, @Attribute('actionBarVisibility') actionBarVisibility: string, @Attribute('isEmptyOutlet') isEmptyOutlet: boolean, private locationStrategy: NSLocationStrategy, private componentFactoryResolver: ComponentFactoryResolver, private resolver: ComponentFactoryResolver, private changeDetector: ChangeDetectorRef, @Inject(PAGE_FACTORY) private pageFactory: PageFactory, private routeReuseStrategy: NSRouteReuseStrategy, private ngZone: NgZone, elRef: ElementRef) {\n\t\tthis.isEmptyOutlet = isEmptyOutlet;\n\t\tthis.frame = elRef.nativeElement;\n\t\tthis.setActionBarVisibility(actionBarVisibility);\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog(`PageRouterOutlet.constructor frame: ${this.frame}`);\n\t\t}\n\n\t\tthis.name = name || PRIMARY_OUTLET;\n\t\tparentContexts.onChildOutletCreated(this.name, <any>this);\n\n\t\tthis.viewUtil = new ViewUtil(Device);\n\t\tthis.detachedLoaderFactory = resolver.resolveComponentFactory(DetachedLoader);\n\t}\n\n\tsetActionBarVisibility(actionBarVisibility: string): void {\n\t\tswitch (actionBarVisibility) {\n\t\t\tcase 'always':\n\t\t\tcase 'never':\n\t\t\t\tthis.frame.actionBarVisibility = actionBarVisibility;\n\t\t\t\treturn;\n\n\t\t\tdefault:\n\t\t\t\tthis.frame.actionBarVisibility = 'auto';\n\t\t}\n\t}\n\n\tngOnDestroy(): void {\n\t\t// Clear accumulated modal view page cache when page-router-outlet\n\t\t// destroyed on modal view closing\n\t\tthis.parentContexts.onChildOutletDestroyed(this.name);\n\n\t\tif (this.outlet) {\n\t\t\tthis.outlet.outletKeys.forEach((key) => {\n\t\t\t\tthis.routeReuseStrategy.clearModalCache(key);\n\t\t\t});\n\t\t\tthis.locationStrategy.clearOutlet(this.frame);\n\t\t} else {\n\t\t\tNativeScriptDebug.routerLog('PageRouterOutlet.ngOnDestroy: no outlet available for page-router-outlet');\n\t\t}\n\n\t\tif (this.isActivated) {\n\t\t\tconst c = this.activated.instance;\n\t\t\tthis.activated.hostView.detach();\n\t\t\tdestroyComponentRef(this.activated);\n\n\t\t\tthis.deactivateEvents.emit(c);\n\t\t\tthis.activated = null;\n\t\t}\n\t}\n\n\tdeactivate(): void {\n\t\tif (!this.outlet || !this.outlet.isPageNavigationBack) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerLog('Currently not in page back navigation - component should be detached instead of deactivated.');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('PageRouterOutlet.deactivate() while going back - should destroy');\n\t\t}\n\n\t\tif (!this.isActivated) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst c = this.activated.instance;\n\t\tdestroyComponentRef(this.activated);\n\n\t\tthis.activated = null;\n\t\tthis._activatedRoute = null;\n\n\t\tthis.deactivateEvents.emit(c);\n\t}\n\n\t/**\n\t * Called when the `RouteReuseStrategy` instructs to detach the subtree\n\t */\n\tdetach(): ComponentRef<any> {\n\t\tif (!this.isActivated) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerLog('Outlet is not activated');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog(`PageRouterOutlet.detach() - ${routeToString(this._activatedRoute)}`);\n\t\t}\n\n\t\t// Detach from ChangeDetection\n\t\tthis.activated.hostView.detach();\n\n\t\tconst component = this.activated;\n\t\tthis.activated = null;\n\t\tthis._activatedRoute = null;\n\t\treturn component;\n\t}\n\n\t/**\n\t * Called when the `RouteReuseStrategy` instructs to re-attach a previously detached subtree\n\t */\n\tattach(ref: ComponentRef<any>, activatedRoute: ActivatedRoute) {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog(`PageRouterOutlet.attach() - ${routeToString(activatedRoute)}`);\n\t\t}\n\n\t\tthis.activated = ref;\n\n\t\t// reattach to ChangeDetection\n\t\tthis.activated.hostView.markForCheck();\n\t\tthis.activated.hostView.reattach();\n\t\tthis._activatedRoute = activatedRoute;\n\t\tthis.markActivatedRoute(activatedRoute);\n\n\t\tthis.locationStrategy._finishBackPageNavigation(this.frame);\n\t}\n\n\t/**\n\t * Called by the Router to instantiate a new component during the commit phase of a navigation.\n\t * This method in turn is responsible for calling the `routerOnActivate` hook of its child.\n\t */\n\t@profile\n\tactivateWith(activatedRoute: ActivatedRoute, resolver: ComponentFactoryResolver | null): void {\n\t\tthis.outlet = this.outlet || this.getOutlet(activatedRoute.snapshot);\n\t\tif (!this.outlet) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerError('No outlet found relative to activated route');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tthis.outlet.isNSEmptyOutlet = this.isEmptyOutlet;\n\t\tthis.locationStrategy.updateOutletFrame(this.outlet, this.frame, this.isEmptyOutlet);\n\n\t\tif (this.outlet && this.outlet.isPageNavigationBack) {\n\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\tNativeScriptDebug.routerLog('Currently in page back navigation - component should be reattached instead of activated.');\n\t\t\t}\n\t\t\tthis.locationStrategy._finishBackPageNavigation(this.frame);\n\t\t}\n\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog(`PageRouterOutlet.activateWith() - ${routeToString(activatedRoute)}`);\n\t\t}\n\n\t\tthis._activatedRoute = activatedRoute;\n\n\t\tthis.markActivatedRoute(activatedRoute);\n\n\t\tresolver = resolver || this.resolver;\n\n\t\tthis.activateOnGoForward(activatedRoute, resolver);\n\t\tthis.activateEvents.emit(this.activated.instance);\n\t}\n\n\tprivate activateOnGoForward(activatedRoute: ActivatedRoute, loadedResolver: ComponentFactoryResolver): void {\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('PageRouterOutlet.activate() forward navigation - ' + 'create detached loader in the loader container');\n\t\t}\n\n\t\tconst factory = this.getComponentFactory(activatedRoute, loadedResolver);\n\t\tconst page = this.pageFactory({\n\t\t\tisNavigation: true,\n\t\t\tcomponentType: factory.componentType,\n\t\t});\n\n\t\tconst destructables = new Set([]);\n\t\tconst injector = Injector.create({\n\t\t\tproviders: [\n\t\t\t\t{ provide: Page, useValue: page },\n\t\t\t\t{ provide: Frame, useValue: this.frame },\n\t\t\t\t{ provide: PageRoute, useValue: new PageRoute(activatedRoute) },\n\t\t\t\t{ provide: ActivatedRoute, useValue: activatedRoute },\n\t\t\t\t{ provide: ChildrenOutletContexts, useValue: this.parentContexts.getOrCreateContext(this.name).children },\n\t\t\t],\n\t\t\tparent: this.location.injector,\n\t\t});\n\n\t\tconst childInjector = new DestructibleInjector(destructables, injector);\n\t\tconst loaderRef = this.location.createComponent(this.detachedLoaderFactory, this.location.length, childInjector, []);\n\t\tloaderRef.onDestroy(() => childInjector.destroy());\n\t\tthis.changeDetector.markForCheck();\n\n\t\tthis.activated = loaderRef.instance.loadWithFactory(factory);\n\t\tthis.loadComponentInPage(page, this.activated, { activatedRoute });\n\n\t\tthis.activated[loaderRefSymbol] = loaderRef;\n\t}\n\n\t@profile\n\tprivate loadComponentInPage(page: Page, componentRef: ComponentRef<any>, navigationContext): void {\n\t\t// Component loaded. Find its root native view.\n\t\tconst componentView = componentRef.location.nativeElement;\n\t\t// Remove it from original native parent.\n\t\tthis.viewUtil.removeChild(componentView.parent, componentView);\n\t\t// Add it to the new page\n\t\tthis.viewUtil.insertChild(page, componentView);\n\n\t\tconst navigatedFromCallback = (<any>global).Zone.current.wrap((args: NavigatedData) => {\n\t\t\tif (args.isBackNavigation) {\n\t\t\t\tthis.locationStrategy._beginBackPageNavigation(this.frame);\n\t\t\t\tthis.locationStrategy.back(null, this.frame);\n\t\t\t}\n\t\t});\n\t\t// TODO: experiment with using NgZone instead of global above\n\t\t// const navigatedFromCallback = (args: NavigatedData) => {\n\t\t// \tif (args.isBackNavigation) {\n\t\t//     this.ngZone.run(() => {\n\t\t//       this.locationStrategy._beginBackPageNavigation(this.frame);\n\t\t//       this.locationStrategy.back(null, this.frame);\n\t\t//     });\n\t\t// \t}\n\t\t// };\n\n\t\tpage.on(Page.navigatedFromEvent, navigatedFromCallback);\n\t\tcomponentRef.onDestroy(() => {\n\t\t\tif (page) {\n\t\t\t\tpage.off(Page.navigatedFromEvent, navigatedFromCallback);\n\t\t\t\tpage = null;\n\t\t\t}\n\t\t});\n\n\t\tconst navOptions = this.locationStrategy._beginPageNavigation(this.frame);\n\n\t\t// Clear refCache if navigation with clearHistory\n\t\tif (navOptions.clearHistory) {\n\t\t\tconst clearCallback = () =>\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (this.outlet) {\n\t\t\t\t\t\tthis.routeReuseStrategy.clearCache(this.outlet.outletKeys[0]);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tpage.once(Page.navigatedToEvent, clearCallback);\n\t\t}\n\n\t\tthis.frame.navigate({\n\t\t\tcreate() {\n\t\t\t\treturn page;\n\t\t\t},\n\t\t\tcontext: navigationContext,\n\t\t\tclearHistory: navOptions.clearHistory,\n\t\t\tanimated: navOptions.animated,\n\t\t\ttransition: navOptions.transition,\n\t\t});\n\t}\n\n\t// Find and mark the top activated route as an activated one.\n\t// In ns-location-strategy we are reusing components only if their corresponing routes\n\t// are marked as activated from this method.\n\tprivate markActivatedRoute(activatedRoute: ActivatedRoute) {\n\t\tconst queue = [];\n\t\tqueue.push(activatedRoute.snapshot);\n\t\tlet currentRoute = queue.shift();\n\n\t\twhile (currentRoute) {\n\t\t\tcurrentRoute.children.forEach((childRoute) => {\n\t\t\t\tqueue.push(childRoute);\n\t\t\t});\n\n\t\t\tconst topActivatedRoute = findTopActivatedRouteNodeForOutlet(currentRoute);\n\t\t\tlet outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);\n\t\t\tlet outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);\n\n\t\t\tif (outlet && outlet.frames.length) {\n\t\t\t\ttopActivatedRoute[pageRouterActivatedSymbol] = true;\n\t\t\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\t\t\tNativeScriptDebug.routerLog('Activated route marked as page: ' + routeToString(topActivatedRoute));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcurrentRoute = queue.shift();\n\t\t}\n\t}\n\n\tprivate getComponentFactory(activatedRoute: ActivatedRoute, loadedResolver: ComponentFactoryResolver): ComponentFactory<any> {\n\t\tconst { component } = activatedRoute.routeConfig;\n\n\t\treturn loadedResolver ? loadedResolver.resolveComponentFactory(component) : this.componentFactoryResolver.resolveComponentFactory(component);\n\t}\n\n\tprivate getOutlet(activatedRouteSnapshot: ActivatedRouteSnapshot): Outlet {\n\t\tconst topActivatedRoute = findTopActivatedRouteNodeForOutlet(activatedRouteSnapshot);\n\t\tconst outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);\n\t\tlet outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);\n\n\t\t// Named lazy loaded outlet.\n\t\tif (!outlet && this.isEmptyOutlet) {\n\t\t\tconst parentOutletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute.parent);\n\t\t\toutlet = this.locationStrategy.findOutlet(parentOutletKey, topActivatedRoute.parent);\n\n\t\t\tif (outlet) {\n\t\t\t\toutlet.outletKeys.push(outletKey);\n\t\t\t}\n\t\t}\n\n\t\treturn outlet;\n\t}\n}\n","import { NSLocationStrategy } from './ns-location-strategy';\nimport { PlatformLocation, LocationChangeListener } from '@angular/common';\nimport { Injectable } from '@angular/core';\nimport { NativeScriptDebug } from '../trace';\n\n@Injectable()\nexport class NativescriptPlatformLocation extends PlatformLocation {\n\tconstructor(private locationStrategy: NSLocationStrategy) {\n\t\tsuper();\n\t\tif (NativeScriptDebug.isLogEnabled()) {\n\t\t\tNativeScriptDebug.routerLog('NativescriptPlatformLocation.constructor()');\n\t\t}\n\t}\n\n\tgetState(): any {\n\t\treturn undefined;\n\t}\n\n\treadonly hostname: string;\n\treadonly href: string;\n\treadonly port: string;\n\treadonly protocol: string;\n\n\tgetBaseHrefFromDOM(): string {\n\t\treturn '/';\n\t}\n\n\tonPopState(fn: LocationChangeListener): void {\n\t\tthis.locationStrategy.onPopState(fn);\n\t}\n\n\tonHashChange(_fn: LocationChangeListener): void {}\n\n\tget search(): string {\n\t\treturn '';\n\t}\n\tget hash(): string {\n\t\treturn '';\n\t}\n\tget pathname(): string {\n\t\treturn this.locationStrategy.path();\n\t}\n\tset pathname(_newPath: string) {\n\t\tthrow new Error('NativescriptPlatformLocation set pathname - not implemented');\n\t}\n\n\tpushState(state: any, title: string, url: string): void {\n\t\tthis.locationStrategy.pushState(state, title, url, null);\n\t}\n\n\treplaceState(state: any, title: string, url: string): void {\n\t\tthis.locationStrategy.replaceState(state, title, url, null);\n\t}\n\n\tforward(): void {\n\t\tthrow new Error('NativescriptPlatformLocation.forward() - not implemented');\n\t}\n\n\tback(): void {\n\t\tthis.locationStrategy.back();\n\t}\n}\n","import { Component, ViewChild } from '@angular/core';\nimport { Page } from '@nativescript/core';\nimport { PageRouterOutlet } from './page-router-outlet';\n@Component({\n\t// tslint:disable-next-line:component-selector\n\tselector: 'ns-empty-outlet',\n\ttemplate: \"<page-router-outlet isEmptyOutlet='true'></page-router-outlet>\",\n})\nexport class NSEmptyOutletComponent {\n\t@ViewChild(PageRouterOutlet, { read: PageRouterOutlet, static: false }) pageRouterOutlet: PageRouterOutlet;\n\tconstructor(private page: Page) {\n\t\tif (this.page) {\n\t\t\tthis.page.actionBarHidden = true;\n\n\t\t\tthis.page.on('loaded', () => {\n\t\t\t\tif (this.pageRouterOutlet && this.page.frame) {\n\t\t\t\t\tthis.pageRouterOutlet.setActionBarVisibility(this.page.frame.actionBarVisibility);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n","import { Compiler, Injectable, Optional, SystemJsNgModuleLoader, SystemJsNgModuleLoaderConfig } from '@angular/core';\n\n@Injectable()\nexport class NSModuleFactoryLoader extends SystemJsNgModuleLoader {\n\tconstructor(compiler: Compiler, @Optional() config?: SystemJsNgModuleLoaderConfig) {\n\t\tsuper(compiler, config);\n\t\tconsole.log(`NSModuleFactoryLoader is deprecated! ` + `You no longer need to provide it as a module loader.`);\n\t}\n}\n","import { NgModule, ModuleWithProviders, NO_ERRORS_SCHEMA, Optional, SkipSelf } from '@angular/core';\nimport { RouterModule, Routes, ExtraOptions, RouteReuseStrategy } from '@angular/router';\nimport { LocationStrategy, PlatformLocation } from '@angular/common';\nimport { NSRouterLink } from './ns-router-link';\nimport { NSRouterLinkActive } from './ns-router-link-active';\nimport { PageRouterOutlet } from './page-router-outlet';\nimport { NSLocationStrategy } from './ns-location-strategy';\nimport { NativescriptPlatformLocation } from './ns-platform-location';\nimport { NSRouteReuseStrategy } from './ns-route-reuse-strategy';\nimport { RouterExtensions } from './router-extensions';\nimport { NativeScriptCommonModule } from '../common';\nimport { FrameService } from '../frame.service';\nimport { NSEmptyOutletComponent } from './ns-empty-outlet.component';\n\nexport { PageRoute } from './page-router-outlet';\nexport { RouterExtensions } from './router-extensions';\nexport { NSModuleFactoryLoader } from './ns-module-factory-loader';\nexport { Outlet, NavigationOptions, LocationState, defaultNavOptions } from './ns-location-utils';\nexport { NSRouterLink } from './ns-router-link';\nexport { NSRouterLinkActive } from './ns-router-link-active';\nexport { PageRouterOutlet } from './page-router-outlet';\nexport { NSLocationStrategy } from './ns-location-strategy';\nexport { NSEmptyOutletComponent } from './ns-empty-outlet.component';\n\nexport function provideLocationStrategy(locationStrategy: NSLocationStrategy, frameService: FrameService): NSLocationStrategy {\n\treturn locationStrategy ? locationStrategy : new NSLocationStrategy(frameService);\n}\n\n@NgModule({\n\tdeclarations: [NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],\n\tentryComponents: [NSEmptyOutletComponent],\n\timports: [RouterModule, NativeScriptCommonModule],\n\texports: [RouterModule, NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],\n\tschemas: [NO_ERRORS_SCHEMA],\n})\nexport class NativeScriptRouterModule {\n\tstatic forRoot(routes: Routes, config?: ExtraOptions): ModuleWithProviders<NativeScriptRouterModule> {\n\t\treturn {\n\t\t\tngModule: NativeScriptRouterModule,\n\t\t\tproviders: [\n\t\t\t\t...RouterModule.forRoot(routes, config).providers,\n\t\t\t\t{\n\t\t\t\t\tprovide: NSLocationStrategy,\n\t\t\t\t\tuseFactory: provideLocationStrategy,\n\t\t\t\t\tdeps: [[NSLocationStrategy, new Optional(), new SkipSelf()], FrameService],\n\t\t\t\t},\n\t\t\t\t{ provide: LocationStrategy, useExisting: NSLocationStrategy },\n\t\t\t\tNativescriptPlatformLocation,\n\t\t\t\t{ provide: PlatformLocation, useExisting: NativescriptPlatformLocation },\n\t\t\t\tRouterExtensions,\n\t\t\t\tNSRouteReuseStrategy,\n\t\t\t\t{ provide: RouteReuseStrategy, useExisting: NSRouteReuseStrategy },\n\t\t\t],\n\t\t};\n\t}\n\n\tstatic forChild(routes: Routes): ModuleWithProviders<NativeScriptRouterModule> {\n\t\treturn { ngModule: NativeScriptRouterModule, providers: RouterModule.forChild(routes).providers };\n\t}\n}\n","// Initial imports and polyfills\nimport '@nativescript/core';\nimport '@nativescript/zone-js';\n// TODO: migrate to standard zone.js if possible\n// investigate Ivy with templated-items-comp to allow standard zone below to be used instead of patched {N} zone above\n// import 'zone.js/dist/zone';\nimport './dom-adapter';\n// import \"./polyfills/array\";\nimport './polyfills/console';\nimport 'nativescript-intl';\n\nexport * from './platform-common';\nexport * from './platform-providers';\nexport * from './platform';\nexport * from './resource-loader';\n\nexport * from './nativescript.module';\nexport * from './common';\nexport * from './common/detached-loader';\nexport * from './common/utils';\n\nexport { NativeScriptAnimationsModule } from './animations';\nexport * from './file-system';\nexport * from './http-client';\nexport * from './forms';\nexport * from './directives';\nexport * from './router';\nexport * from './frame.service';\n\nexport { NativeScriptRenderer } from './renderer';\nexport { EmulatedRenderer } from './renderer-emulated';\nexport { NativeScriptRendererFactory } from './renderer-factory';\n\n// utils\nexport { NativeScriptDebug } from './trace';\nexport * from './app-host-view';\nexport { getViewClass, getViewMeta, isKnownView, registerElement, CommentNode, getSingleViewRecursive, isInvisibleNode, isView } from './element-registry';\nexport type { NgView, ViewClass, ViewClassMeta, ViewResolver, ViewExtensions } from './element-registry';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {ActionBarComponent as i,ActionBarScope as j,ActionItemDirective as k,NavigationButtonDirective as l} from './directives/action-bar';\nexport {ModalDialogService as o} from './directives/dialogs';\nexport {ListViewComponent as c} from './directives/list-view-comp';\nexport {AndroidFilterComponent as m,IosFilterComponent as n} from './directives/platform-filters';\nexport {TabViewDirective as g,TabViewItemDirective as h} from './directives/tab-view';\nexport {TEMPLATED_ITEMS_COMPONENT as e,TemplateKeyDirective as f,TemplatedItemsComponent as d} from './directives/templated-items-comp';\nexport {InvisibleNode as a} from './element-registry';\nexport {NSFileSystem as b} from './file-system/ns-file-system';\nexport {NSLocationStrategy as p} from './router/ns-location-strategy';\nexport {ViewUtil as q} from './view-util';"]}